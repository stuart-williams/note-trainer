{"version":3,"sources":["../../src/MidiNumbers.js","../../src/Key.js","../../src/Keyboard.js","../../src/ControlledPiano.js","../../src/Piano.js","../../src/KeyboardShortcuts.js","../node_modules/just-range/index.js","../node_modules/classnames/index.js","../node_modules/lodash.difference/index.js"],"names":["SORTED_PITCHES","ACCIDENTAL_PITCHES","PITCH_INDEXES","C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B","NOTE_REGEX","midiNumberAttributesCache","MAX_MIDI_NUMBER","cache","midiNumber","pitchIndex","octave","Math","pitchName","note","isAccidental","buildMidiNumberAttributes","getAttributes","attrs","Error","NATURAL_MIDI_NUMBERS","fromNote","match","letter","accidental","MIDI_NUMBER_C0","parseInt","MIN_MIDI_NUMBER","Key","MidiNumbers","this","props","pitchPositions","getAbsoluteKeyPosition","noteRange","naturalKeyWidth","accidentalWidthRatio","gliss","useTouchEvents","active","disabled","children","className","classNames","style","left","ratioToPercentage","getRelativeKeyPosition","width","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchCancel","onTouchEnd","React","Component","ratio","PropTypes","onPlayNoteInput","onStopNoteInput","node","Keyboard","range","last","getMidiNumbers","filter","keyWidth","height","getHeight","map","isActive","key","isNaturalMidiNumber","value","propName","componentName","first","activeNotes","renderNoteLabel","keyWidthToHeight","number","ControlledPiano","isMouseDown","prevActiveNotes","nextActiveNotes","notesStopped","difference","notesStarted","shortcut","sh","event","keyboardShortcut","window","prevProps","prevState","state","playNote","stopNote","keyboardShortcuts","isRequired","Piano","otherProps","handleStopNoteInput","create","firstNote","lastNote","keyboardConfig","currentMidiNumber","naturalKeyIndex","BOTTOM_ROW","natural","flat","sharp","HOME_ROW","QWERTY_ROW","module","exports","start","stop","step","toReturn","increasing","push","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","argType","Array","isArray","inner","apply","toString","Object","prototype","call","join","default","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","reIsHostCtor","freeGlobal","global","freeSelf","self","root","Function","func","thisArg","args","arrayIncludes","array","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayPush","values","offset","cacheHas","has","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","replace","Symbol","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","undefined","nativeMax","max","Map","getNative","nativeCreate","Hash","entries","clear","entry","set","ListCache","MapCache","SetCache","__data__","add","assocIndexOf","other","baseDifference","iteratee","includes","isCommon","result","valuesLength","arrayMap","outer","computed","valuesIndex","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","isFunction","e","isHostObject","test","toSource","getMapData","data","type","isKeyable","object","getValue","isArrayLikeObject","isArguments","get","pop","otherArgs","isArrayLike","isLength","isObjectLike","tag"],"mappings":"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","file":"static/js/3.8f1ce871.chunk.js","sourcesContent":["import range from 'just-range';\n\nconst SORTED_PITCHES = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\nconst ACCIDENTAL_PITCHES = ['Db', 'Eb', 'Gb', 'Ab', 'Bb'];\nconst PITCH_INDEXES = {\n  C: 0,\n  'C#': 1,\n  Db: 1,\n  D: 2,\n  'D#': 3,\n  Eb: 3,\n  E: 4,\n  F: 5,\n  'F#': 6,\n  Gb: 6,\n  G: 7,\n  'G#': 8,\n  Ab: 8,\n  A: 9,\n  'A#': 10,\n  Bb: 10,\n  B: 11,\n};\nconst MIDI_NUMBER_C0 = 12;\nconst MIN_MIDI_NUMBER = MIDI_NUMBER_C0;\nconst MAX_MIDI_NUMBER = 127;\nconst NOTE_REGEX = /([a-g])([#b]?)(\\d+)/;\nconst NOTES_IN_OCTAVE = 12;\n\n// Converts string notes in scientific pitch notation to a MIDI number, or null.\n//\n// Example: \"c#0\" => 13, \"eb5\" => 75, \"abc\" => null\n//\n// References:\n// - http://www.flutopedia.com/octave_notation.htm\n// - https://github.com/danigb/tonal/blob/master/packages/note/index.js\nfunction fromNote(note) {\n  if (!note) {\n    throw Error('Invalid note argument');\n  }\n  const match = NOTE_REGEX.exec(note.toLowerCase());\n  if (!match) {\n    throw Error('Invalid note argument');\n  }\n  const [, letter, accidental, octave] = match;\n  const pitchName = `${letter.toUpperCase()}${accidental}`;\n  const pitchIndex = PITCH_INDEXES[pitchName];\n  if (pitchIndex == null) {\n    throw Error('Invalid note argument');\n  }\n  return MIDI_NUMBER_C0 + pitchIndex + NOTES_IN_OCTAVE * parseInt(octave, 10);\n}\n\n//\n// Build cache for getAttributes\n//\nfunction buildMidiNumberAttributes(midiNumber) {\n  const pitchIndex = (midiNumber - MIDI_NUMBER_C0) % NOTES_IN_OCTAVE;\n  const octave = Math.floor((midiNumber - MIDI_NUMBER_C0) / NOTES_IN_OCTAVE);\n  const pitchName = SORTED_PITCHES[pitchIndex];\n  return {\n    note: `${pitchName}${octave}`,\n    pitchName,\n    octave,\n    midiNumber,\n    isAccidental: ACCIDENTAL_PITCHES.includes(pitchName),\n  };\n}\n\nfunction buildMidiNumberAttributesCache() {\n  return range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).reduce((cache, midiNumber) => {\n    cache[midiNumber] = buildMidiNumberAttributes(midiNumber);\n    return cache;\n  }, {});\n}\n\nconst midiNumberAttributesCache = buildMidiNumberAttributesCache();\n\n// Returns an object containing various attributes for a given MIDI number.\n// Throws error for invalid midiNumbers.\nfunction getAttributes(midiNumber) {\n  const attrs = midiNumberAttributesCache[midiNumber];\n  if (!attrs) {\n    throw Error('Invalid MIDI number');\n  }\n  return attrs;\n}\n\n// Returns all MIDI numbers corresponding to natural notes, e.g. C and not C# or Bb.\nconst NATURAL_MIDI_NUMBERS = range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).filter(\n  (midiNumber) => !getAttributes(midiNumber).isAccidental,\n);\n\nexport default {\n  fromNote,\n  getAttributes,\n  MIN_MIDI_NUMBER,\n  MAX_MIDI_NUMBER,\n  NATURAL_MIDI_NUMBERS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport MidiNumbers from './MidiNumbers';\n\nclass Key extends React.Component {\n  static propTypes = {\n    midiNumber: PropTypes.number.isRequired,\n    naturalKeyWidth: PropTypes.number.isRequired, // Width as a ratio between 0 and 1\n    gliss: PropTypes.bool.isRequired,\n    useTouchEvents: PropTypes.bool.isRequired,\n    accidental: PropTypes.bool.isRequired,\n    active: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    accidentalWidthRatio: PropTypes.number.isRequired,\n    pitchPositions: PropTypes.object.isRequired,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    accidentalWidthRatio: 0.65,\n    pitchPositions: {\n      C: 0,\n      Db: 0.55,\n      D: 1,\n      Eb: 1.8,\n      E: 2,\n      F: 3,\n      Gb: 3.5,\n      G: 4,\n      Ab: 4.7,\n      A: 5,\n      Bb: 5.85,\n      B: 6,\n    },\n  };\n\n  onPlayNoteInput = () => {\n    this.props.onPlayNoteInput(this.props.midiNumber);\n  };\n\n  onStopNoteInput = () => {\n    this.props.onStopNoteInput(this.props.midiNumber);\n  };\n\n  // Key position is represented by the number of natural key widths from the left\n  getAbsoluteKeyPosition(midiNumber) {\n    const OCTAVE_WIDTH = 7;\n    const { octave, pitchName } = MidiNumbers.getAttributes(midiNumber);\n    const pitchPosition = this.props.pitchPositions[pitchName];\n    const octavePosition = OCTAVE_WIDTH * octave;\n    return pitchPosition + octavePosition;\n  }\n\n  getRelativeKeyPosition(midiNumber) {\n    return (\n      this.getAbsoluteKeyPosition(midiNumber) -\n      this.getAbsoluteKeyPosition(this.props.noteRange.first)\n    );\n  }\n\n  render() {\n    const {\n      naturalKeyWidth,\n      accidentalWidthRatio,\n      midiNumber,\n      gliss,\n      useTouchEvents,\n      accidental,\n      active,\n      disabled,\n      children,\n    } = this.props;\n\n    // Need to conditionally include/exclude handlers based on useTouchEvents,\n    // because otherwise mobile taps double fire events.\n    return (\n      <div\n        className={classNames('ReactPiano__Key', {\n          'ReactPiano__Key--accidental': accidental,\n          'ReactPiano__Key--natural': !accidental,\n          'ReactPiano__Key--disabled': disabled,\n          'ReactPiano__Key--active': active,\n        })}\n        style={{\n          left: ratioToPercentage(this.getRelativeKeyPosition(midiNumber) * naturalKeyWidth),\n          width: ratioToPercentage(\n            accidental ? accidentalWidthRatio * naturalKeyWidth : naturalKeyWidth,\n          ),\n        }}\n        onMouseDown={useTouchEvents ? null : this.onPlayNoteInput}\n        onMouseUp={useTouchEvents ? null : this.onStopNoteInput}\n        onMouseEnter={gliss ? this.onPlayNoteInput : null}\n        onMouseLeave={this.onStopNoteInput}\n        onTouchStart={useTouchEvents ? this.onPlayNoteInput : null}\n        onTouchCancel={useTouchEvents ? this.onStopNoteInput : null}\n        onTouchEnd={useTouchEvents ? this.onStopNoteInput : null}\n      >\n        <div className=\"ReactPiano__NoteLabelContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n\nfunction ratioToPercentage(ratio) {\n  return `${ratio * 100}%`;\n}\n\nexport default Key;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport range from 'just-range';\nimport classNames from 'classnames';\n\nimport Key from './Key';\nimport MidiNumbers from './MidiNumbers';\n\nclass Keyboard extends React.Component {\n  static propTypes = {\n    noteRange: noteRangePropType,\n    activeNotes: PropTypes.arrayOf(PropTypes.number),\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    keyWidthToHeight: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    gliss: PropTypes.bool,\n    useTouchEvents: PropTypes.bool,\n    // If width is not provided, must have fixed width and height in parent container\n    width: PropTypes.number,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    gliss: false,\n    useTouchEvents: false,\n    keyWidthToHeight: 0.33,\n    renderNoteLabel: () => {},\n  };\n\n  // Range of midi numbers on keyboard\n  getMidiNumbers() {\n    return range(this.props.noteRange.first, this.props.noteRange.last + 1);\n  }\n\n  getNaturalKeyCount() {\n    return this.getMidiNumbers().filter((number) => {\n      const { isAccidental } = MidiNumbers.getAttributes(number);\n      return !isAccidental;\n    }).length;\n  }\n\n  // Returns a ratio between 0 and 1\n  getNaturalKeyWidth() {\n    return 1 / this.getNaturalKeyCount();\n  }\n\n  getWidth() {\n    return this.props.width ? this.props.width : '100%';\n  }\n\n  getHeight() {\n    if (!this.props.width) {\n      return '100%';\n    }\n    const keyWidth = this.props.width * this.getNaturalKeyWidth();\n    return `${keyWidth / this.props.keyWidthToHeight}px`;\n  }\n\n  render() {\n    const naturalKeyWidth = this.getNaturalKeyWidth();\n    return (\n      <div\n        className={classNames('ReactPiano__Keyboard', this.props.className)}\n        style={{ width: this.getWidth(), height: this.getHeight() }}\n      >\n        {this.getMidiNumbers().map((midiNumber) => {\n          const { note, isAccidental } = MidiNumbers.getAttributes(midiNumber);\n          const isActive = !this.props.disabled && this.props.activeNotes.includes(midiNumber);\n          return (\n            <Key\n              naturalKeyWidth={naturalKeyWidth}\n              midiNumber={midiNumber}\n              noteRange={this.props.noteRange}\n              active={isActive}\n              accidental={isAccidental}\n              disabled={this.props.disabled}\n              onPlayNoteInput={this.props.onPlayNoteInput}\n              onStopNoteInput={this.props.onStopNoteInput}\n              gliss={this.props.gliss}\n              useTouchEvents={this.props.useTouchEvents}\n              key={midiNumber}\n            >\n              {this.props.disabled\n                ? null\n                : this.props.renderNoteLabel({\n                    isActive,\n                    isAccidental,\n                    midiNumber,\n                  })}\n            </Key>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nfunction isNaturalMidiNumber(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n  return MidiNumbers.NATURAL_MIDI_NUMBERS.includes(value);\n}\n\nfunction noteRangePropType(props, propName, componentName) {\n  const { first, last } = props[propName];\n  if (!first || !last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} must be an object with .first and .last values.`,\n    );\n  }\n  if (!isNaturalMidiNumber(first) || !isNaturalMidiNumber(last)) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`,\n    );\n  }\n  if (first >= last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName}.first must be smaller than ${propName}.last.`,\n    );\n  }\n}\n\nexport default Keyboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport Keyboard from './Keyboard';\n\nclass ControlledPiano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    renderNoteLabel: ({ keyboardShortcut, midiNumber, isActive, isAccidental }) =>\n      keyboardShortcut ? (\n        <div\n          className={classNames('ReactPiano__NoteLabel', {\n            'ReactPiano__NoteLabel--active': isActive,\n            'ReactPiano__NoteLabel--accidental': isAccidental,\n            'ReactPiano__NoteLabel--natural': !isAccidental,\n          })}\n        >\n          {keyboardShortcut}\n        </div>\n      ) : null,\n  };\n\n  state = {\n    isMouseDown: false,\n    useTouchEvents: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.activeNotes !== prevProps.activeNotes) {\n      this.handleNoteChanges({\n        prevActiveNotes: prevProps.activeNotes || [],\n        nextActiveNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  // This function is responsible for diff'ing activeNotes\n  // and playing or stopping notes accordingly.\n  handleNoteChanges = ({ prevActiveNotes, nextActiveNotes }) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const notesStopped = difference(prevActiveNotes, nextActiveNotes);\n    const notesStarted = difference(nextActiveNotes, prevActiveNotes);\n    notesStarted.forEach((midiNumber) => {\n      this.props.playNote(midiNumber);\n    });\n    notesStopped.forEach((midiNumber) => {\n      this.props.stopNote(midiNumber);\n    });\n  };\n\n  getMidiNumberForKey = (key) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.key === key);\n    return shortcut && shortcut.midiNumber;\n  };\n\n  getKeyForMidiNumber = (midiNumber) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.midiNumber === midiNumber);\n    return shortcut && shortcut.key;\n  };\n\n  onKeyDown = (event) => {\n    // Don't conflict with existing combinations like ctrl + t\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onPlayNoteInput(midiNumber);\n    }\n  };\n\n  onKeyUp = (event) => {\n    // This *should* also check for event.ctrlKey || event.metaKey || event.ShiftKey like onKeyDown does,\n    // but at least on Mac Chrome, when mashing down many alphanumeric keystrokes at once,\n    // ctrlKey is fired unexpectedly, which would cause onStopNote to NOT be fired, which causes problematic\n    // lingering notes. Since it's fairly safe to call onStopNote even when not necessary,\n    // the ctrl/meta/shift check is removed to fix that issue.\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onStopNoteInput(midiNumber);\n    }\n  };\n\n  onPlayNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onPlayNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onStopNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onStopNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onMouseDown = () => {\n    this.setState({\n      isMouseDown: true,\n    });\n  };\n\n  onMouseUp = () => {\n    this.setState({\n      isMouseDown: false,\n    });\n  };\n\n  onTouchStart = () => {\n    this.setState({\n      useTouchEvents: true,\n    });\n  };\n\n  renderNoteLabel = ({ midiNumber, isActive, isAccidental }) => {\n    const keyboardShortcut = this.getKeyForMidiNumber(midiNumber);\n    return this.props.renderNoteLabel({ keyboardShortcut, midiNumber, isActive, isAccidental });\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onTouchStart={this.onTouchStart}\n        data-testid=\"container\"\n      >\n        <Keyboard\n          noteRange={this.props.noteRange}\n          onPlayNoteInput={this.onPlayNoteInput}\n          onStopNoteInput={this.onStopNoteInput}\n          activeNotes={this.props.activeNotes}\n          className={this.props.className}\n          disabled={this.props.disabled}\n          width={this.props.width}\n          keyWidthToHeight={this.props.keyWidthToHeight}\n          gliss={this.state.isMouseDown}\n          useTouchEvents={this.state.useTouchEvents}\n          renderNoteLabel={this.renderNoteLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlledPiano;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport ControlledPiano from './ControlledPiano';\nimport Keyboard from './Keyboard';\n\nclass Piano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired),\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func,\n    onStopNoteInput: PropTypes.func,\n    renderNoteLabel: PropTypes.func,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  state = {\n    activeNotes: this.props.activeNotes || [],\n  };\n\n  componentDidUpdate(prevProps) {\n    // Make activeNotes \"controllable\" by using internal\n    // state by default, but allowing prop overrides.\n    if (\n      prevProps.activeNotes !== this.props.activeNotes &&\n      this.state.activeNotes !== this.props.activeNotes\n    ) {\n      this.setState({\n        activeNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  handlePlayNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onPlayNoteInput) {\n        this.props.onPlayNoteInput(midiNumber, { prevActiveNotes: prevState.activeNotes });\n      }\n\n      // Don't append note to activeNotes if it's already present\n      if (prevState.activeNotes.includes(midiNumber)) {\n        return null;\n      }\n      return {\n        activeNotes: prevState.activeNotes.concat(midiNumber),\n      };\n    });\n  };\n\n  handleStopNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onStopNoteInput) {\n        this.props.onStopNoteInput(midiNumber, { prevActiveNotes: this.state.activeNotes });\n      }\n      return {\n        activeNotes: prevState.activeNotes.filter((note) => midiNumber !== note),\n      };\n    });\n  };\n\n  render() {\n    const { activeNotes, onPlayNoteInput, onStopNoteInput, ...otherProps } = this.props;\n    return (\n      <ControlledPiano\n        activeNotes={this.state.activeNotes}\n        onPlayNoteInput={this.handlePlayNoteInput}\n        onStopNoteInput={this.handleStopNoteInput}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default Piano;\n","import MidiNumbers from './MidiNumbers';\n\nfunction createKeyboardShortcuts({ firstNote, lastNote, keyboardConfig }) {\n  let currentMidiNumber = firstNote;\n  let naturalKeyIndex = 0;\n  let keyboardShortcuts = [];\n\n  while (\n    // There are still keys to be assigned\n    naturalKeyIndex < keyboardConfig.length &&\n    // Note to be assigned does not surpass range\n    currentMidiNumber <= lastNote\n  ) {\n    const key = keyboardConfig[naturalKeyIndex];\n    const { isAccidental } = MidiNumbers.getAttributes(currentMidiNumber);\n    if (isAccidental) {\n      keyboardShortcuts.push({\n        key: key.flat,\n        midiNumber: currentMidiNumber,\n      });\n    } else {\n      keyboardShortcuts.push({\n        key: key.natural,\n        midiNumber: currentMidiNumber,\n      });\n      naturalKeyIndex += 1;\n    }\n    currentMidiNumber += 1;\n  }\n  return keyboardShortcuts;\n}\n\nexport default {\n  create: createKeyboardShortcuts,\n  // Preset configurations\n  BOTTOM_ROW: [\n    { natural: 'z', flat: 'a', sharp: 's' },\n    { natural: 'x', flat: 's', sharp: 'd' },\n    { natural: 'c', flat: 'd', sharp: 'f' },\n    { natural: 'v', flat: 'f', sharp: 'g' },\n    { natural: 'b', flat: 'g', sharp: 'h' },\n    { natural: 'n', flat: 'h', sharp: 'j' },\n    { natural: 'm', flat: 'j', sharp: 'k' },\n    { natural: ',', flat: 'k', sharp: 'l' },\n    { natural: '.', flat: 'l', sharp: ';' },\n    { natural: '/', flat: ';', sharp: \"'\" },\n  ],\n  HOME_ROW: [\n    { natural: 'a', flat: 'q', sharp: 'w' },\n    { natural: 's', flat: 'w', sharp: 'e' },\n    { natural: 'd', flat: 'e', sharp: 'r' },\n    { natural: 'f', flat: 'r', sharp: 't' },\n    { natural: 'g', flat: 't', sharp: 'y' },\n    { natural: 'h', flat: 'y', sharp: 'u' },\n    { natural: 'j', flat: 'u', sharp: 'i' },\n    { natural: 'k', flat: 'i', sharp: 'o' },\n    { natural: 'l', flat: 'o', sharp: 'p' },\n    { natural: ';', flat: 'p', sharp: '[' },\n    { natural: \"'\", flat: '[', sharp: ']' },\n  ],\n  QWERTY_ROW: [\n    { natural: 'q', flat: '1', sharp: '2' },\n    { natural: 'w', flat: '2', sharp: '3' },\n    { natural: 'e', flat: '3', sharp: '4' },\n    { natural: 'r', flat: '4', sharp: '5' },\n    { natural: 't', flat: '5', sharp: '6' },\n    { natural: 'y', flat: '6', sharp: '7' },\n    { natural: 'u', flat: '7', sharp: '8' },\n    { natural: 'i', flat: '8', sharp: '9' },\n    { natural: 'o', flat: '9', sharp: '0' },\n    { natural: 'p', flat: '0', sharp: '-' },\n    { natural: '[', flat: '-', sharp: '=' },\n  ],\n};\n","module.exports = range;\n\n/*\n  range(0, 5); // [0, 1, 2, 3, 4]\n  range(5); // [0, 1, 2, 3, 4]\n  range(-5); // [0, -1, -2, -3, -4]\n  range(0, 20, 5) // [0, 5, 10, 15]\n  range(0, -20, -5) // [0, -5, -10, -15]\n*/\n\nfunction range(start, stop, step) {\n  if (start != null && typeof start != 'number') {\n    throw new Error('start must be a number or null');\n  }\n  if (stop != null && typeof stop != 'number') {\n    throw new Error('stop must be a number or null');\n  }\n  if (step != null && typeof step != 'number') {\n    throw new Error('step must be a number or null');\n  }\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (step == null) {\n    step = stop > start ? 1 : -1;\n  }\n  var toReturn = [];\n  var increasing = start < stop; //← here’s the change\n  for (; increasing ? start < stop : start > stop; start += step) {\n    toReturn.push(start);\n  }\n  return toReturn;\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = difference;\n"],"sourceRoot":""}