{"version":3,"sources":["state/statistics.ts","state/index.ts","utils/maths.ts","utils/notes.ts","utils/state.ts","state/fretboard.ts","state/settings.ts","config/index.ts","state/find-the-note/notes.ts","state/find-the-note/statistics.ts","state/find-the-note/index.ts","state/name-the-note/notes.ts","state/name-the-note/statistics.ts","state/name-the-note/index.ts","pages/settings.tsx"],"names":["gameStatsState","selector","key","get","ntnStats","ntnGameStatsState","total","ftnStats","fntGameStatsState","game","set","newValue","reset","DefaultValue","answerIndicatorState","atom","default","percent","value","round","getNoteNames","times","map","sharps","Note","simplify","repeat","midiToNoteName","midiNumber","Midi","pitchClass","toDisplayNoteName","note","halfNotes","noteName","isNumber","enharmonic","Math","random","localStorageEffect","defaultValue","node","setSelf","onSet","ls","fretboardState","config","fretboardIdState","fretboardNotesState","fretboard","leftHanded","leftHandedState","flatMap","tuning","i","fretCount","steps","id","simple","name","string","effects_UNSTABLE","fretMarkersState","halfNotesState","fretboards","h","fretMarkers","guages","reverse","seedState","queueState","shuffle","pointerState","activeNotesState","pointerProxySelector","queue","targetNoteState","targetNoteCountState","filter","length","totalAttemptsState","totalCorrectState","gameAttemptsState","gameCorrectState","statProxySelector","Number","correct","attempts","gameProxySelector","count","activeNotes","nextActiveNotes","without","isCorrect","FretboardSelect","useRecoilState","setValue","onChange","event","target","mt","isExternal","color","alignItems","display","href","ml","as","ExternalLinkIcon","LeftHanded","isChecked","setChecked","checked","FretMarkers","HalfNotes","SettingsPage","Card","spacing"],"mappings":"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","file":"static/js/settings.60416f5d.chunk.js","sourcesContent":["import { DefaultValue, selector } from \"recoil\";\nimport { IStats } from \"types\";\nimport { gameStatsState as fntGameStatsState } from \"./find-the-note\";\nimport { gameStatsState as ntnGameStatsState } from \"./name-the-note\";\n\ninterface GameStats extends IStats {\n  game: string;\n}\n\nexport const gameStatsState = selector<GameStats[]>({\n  key: \"gameStatsState\",\n  get: ({ get }) => {\n    const { total: ntnStats } = get(ntnGameStatsState);\n    const { total: ftnStats } = get(fntGameStatsState);\n\n    return [\n      {\n        game: \"Name the Note\",\n        ...ntnStats,\n      },\n      {\n        ...ftnStats,\n        game: \"Find the Note\",\n      },\n    ];\n  },\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(ntnGameStatsState);\n      reset(fntGameStatsState);\n    }\n  },\n});\n","import { atom } from \"recoil\";\nimport { IBinary } from \"types\";\n\nexport const answerIndicatorState = atom<-1 | IBinary>({\n  key: \"answerIndicatorState\",\n  default: -1,\n});\n\nexport * from \"./fretboard\";\nexport * from \"./settings\";\nexport * from \"./statistics\";\n","import { round } from \"lodash\";\n\nexport const percent = (value: number, total: number): number =>\n  total > 0 ? round((value / total) * 100) : 0;\n","import { Midi, Note } from \"@tonaljs/tonal\";\nimport { isNumber, repeat, times } from \"lodash\";\nimport { IHalfNotes } from \"types\";\n\nexport const getNoteNames = (): string[] =>\n  times(12).map((sharps) => Note.simplify(\"C\" + repeat(\"#\", sharps)));\n\nexport const midiToNoteName = (midiNumber: number): string =>\n  Midi.midiToNoteName(midiNumber, { sharps: true, pitchClass: true });\n\nexport const isEnharmonicEquivalent = (a: string, b: string): boolean =>\n  a === b || Note.enharmonic(a) === b;\n\nexport const toDisplayNoteName = (\n  note: string | number,\n  halfNotes: IHalfNotes = \"sharps\"\n): string => {\n  const noteName = isNumber(note) ? midiToNoteName(note) : note;\n\n  if (Note.enharmonic(noteName) === noteName || halfNotes === \"sharps\") {\n    return noteName;\n  }\n\n  if (halfNotes === \"flats\") {\n    return Note.enharmonic(noteName);\n  }\n\n  return Math.random() > 0.5 ? Note.enharmonic(noteName) : noteName;\n};\n","import * as ls from \"local-storage\";\nimport { AtomEffect, DefaultValue } from \"recoil\";\n\nexport const localStorageEffect =\n  <T>(defaultValue?: T): AtomEffect<T> =>\n  ({ node, setSelf, onSet }) => {\n    const key = `noteTrainer.${node.key}`;\n    const value = ls.get<T>(key);\n\n    if (value !== null) {\n      setSelf(value);\n    } else if (defaultValue) {\n      ls.set<T>(key, defaultValue);\n      setSelf(defaultValue);\n    }\n\n    onSet((newValue) => {\n      if (newValue instanceof DefaultValue) {\n        ls.remove(key);\n      } else {\n        ls.set<T>(key, newValue);\n      }\n    });\n  };\n","import { Note } from \"@tonaljs/tonal\";\nimport * as config from \"config\";\nimport { flatMap, repeat, times } from \"lodash\";\nimport { selector } from \"recoil\";\nimport { IFretboard, INote } from \"types\";\nimport { fretboardIdState, leftHandedState } from \"./settings\";\n\nexport const fretboardState = selector<IFretboard>({\n  key: \"fretboardState\",\n  get: ({ get }) => config.fretboards[get(fretboardIdState)],\n});\n\nexport const fretboardNotesState = selector<INote[]>({\n  key: \"fretboardNotesState\",\n  get: ({ get }) => {\n    const fretboard = get(fretboardState);\n    const leftHanded = get(leftHandedState);\n\n    return flatMap(fretboard.tuning, (note, i) =>\n      times(fretboard.fretCount + 1).map((steps) => {\n        const id = note + repeat(leftHanded ? \"b\" : \"#\", steps);\n        const simple = Note.simplify(id);\n        const name = leftHanded ? Note.enharmonic(simple) : simple;\n\n        return {\n          id,\n          name,\n          string: i + 1,\n        };\n      })\n    );\n  },\n});\n","import { atom } from \"recoil\";\nimport { IFretboardId, IHalfNotes } from \"types\";\nimport { localStorageEffect } from \"utils\";\n\nexport const fretboardIdState = atom<IFretboardId>({\n  key: \"fretboardIdState\",\n  default: \"standard-6\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const leftHandedState = atom<boolean>({\n  key: \"leftHandedState\",\n  default: false,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const fretMarkersState = atom<boolean>({\n  key: \"fretMarkersState\",\n  default: true,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const halfNotesState = atom<IHalfNotes>({\n  key: \"halfNotesState\",\n  default: \"random\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n","import { IFretboardId, IFretboard } from \"types\";\n\nexport const fretboards: Record<IFretboardId, IFretboard> = {\n  \"standard-6\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-6\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Standard Tuning\",\n    tuning: [\"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n  },\n  \"e-flat\": {\n    h: 220,\n    fretCount: 12,\n    id: \"e-flat\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - E Flat\",\n    tuning: [\"D#\", \"G#\", \"C#\", \"F#\", \"A#\", \"D#\"].reverse(),\n  },\n  \"open-e\": {\n    h: 220,\n    fretCount: 12,\n    id: \"open-e\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Open E\",\n    tuning: [\"E\", \"B\", \"E\", \"G#\", \"B\", \"E\"].reverse(),\n  },\n  \"dad-gad\": {\n    h: 220,\n    fretCount: 12,\n    id: \"dad-gad\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Dad-Gad\",\n    tuning: [\"D\", \"A\", \"D\", \"G\", \"A\", \"D\"].reverse(),\n  },\n  \"standard-7\": {\n    h: 254,\n    fretCount: 12,\n    id: \"standard-7\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4, 3, 2, 1].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n    name: \"7 String Guitar - Standard Tuning\",\n  },\n  \"standard-4\": {\n    h: 200,\n    fretCount: 12,\n    id: \"standard-4\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4].reverse(),\n    tuning: [\"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"4 String Bass - Standard Tuning\",\n  },\n  \"standard-5\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-5\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [8, 7, 6, 5, 4].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"5 String Bass - Standard Tuning\",\n  },\n};\n","import { filter } from \"lodash\";\nimport { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { fretboardNotesState } from \"state\";\nimport { INote } from \"types\";\nimport { getNoteNames, localStorageEffect } from \"utils\";\n\n/**\n * Seed for queue shuffling.\n */\nconst seedState = atom<number>({\n  key: \"find-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\n/**\n * Maintain a queue for a consistent spread of notes.\n */\nconst queueState = selector<string[]>({\n  key: \"find-the-note/queueState\",\n  get: ({ get }) => shuffle(getNoteNames(), get(seedState)),\n});\n\n/**\n * Pointer to the current note in the queue.\n */\nconst pointerState = atom<number>({\n  key: \"find-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * Notes the user has selected to be rendered on the fretboard.\n */\nexport const activeNotesState = atom<INote[]>({\n  key: \"find-the-note/activeNotesState\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * A wrapper around pointerState which handles reshuffling the\n * queue when we reach the end, moving the pointer and clearing the\n * fretboard.\n */\nexport const pointerProxySelector = selector<number>({\n  key: \"find-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      // Reshuffle queue and point to the start\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      // Move pointer to next note\n      set(pointerState, newValue);\n    }\n\n    // Clear fretboard\n    reset(activeNotesState);\n  },\n});\n\n/**\n * Current game note.\n */\nexport const targetNoteState = selector<string>({\n  key: \"find-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n\n/**\n * Number of times the target note appears on the fretboard.\n */\nexport const targetNoteCountState = selector<number>({\n  key: \"find-the-note/targetNoteCountState\",\n  get: ({ get }) =>\n    filter(get(fretboardNotesState), [\"name\", get(targetNoteState)]).length,\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"find-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"find-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"find-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"find-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"find-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"find-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { without } from \"lodash\";\nimport { DefaultValue, selector } from \"recoil\";\nimport { INote } from \"types\";\nimport { answerIndicatorState } from \"..\";\nimport {\n  activeNotesState,\n  pointerProxySelector,\n  targetNoteCountState,\n  targetNoteState,\n} from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote | null>({\n  key: \"find-the-note/gameProxySelector\",\n  get: () => null,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    // Incorrect\n    if (newValue === null || newValue.name !== get(targetNoteState)) {\n      // Indicate incorrect answer\n      set(answerIndicatorState, 0);\n      // Update failed attempt stat\n      set(statProxySelector, false);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Correct\n    const count = get(targetNoteCountState);\n    const activeNotes = get(activeNotesState);\n    const nextActiveNotes = [...without(activeNotes, newValue), newValue];\n\n    // All notes found\n    if (nextActiveNotes.length === count) {\n      // Indicate correct answer\n      set(answerIndicatorState, 1);\n      // Update successful attempt stat\n      set(statProxySelector, true);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Draw selected note on the fretboard\n    set(activeNotesState, nextActiveNotes);\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { INote } from \"types\";\nimport { localStorageEffect } from \"utils\";\nimport { fretboardNotesState } from \"../fretboard\";\n\nconst seedState = atom<number>({\n  key: \"name-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\nconst queueState = selector<INote[]>({\n  key: \"name-the-note/queueState\",\n  get: ({ get }) => shuffle(get(fretboardNotesState), get(seedState)),\n});\n\nconst pointerState = atom<number>({\n  key: \"name-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const pointerProxySelector = selector<number>({\n  key: \"name-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      set(pointerState, newValue);\n    }\n  },\n});\n\nexport const targetNoteState = selector<INote>({\n  key: \"name-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"name-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"name-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"name-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"name-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"name-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"name-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { DefaultValue, selector } from \"recoil\";\nimport { IBinary, INote } from \"types\";\nimport { answerIndicatorState } from \"..\";\nimport { pointerProxySelector, targetNoteState } from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote>({\n  key: \"name-the-note/gameProxySelector\",\n  get: ({ get }) => get(targetNoteState),\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    const isCorrect = newValue.name === get(targetNoteState).name;\n\n    // Indicate answer correctness\n    set(answerIndicatorState, Number(isCorrect) as IBinary);\n\n    // Update attempt stat\n    set(statProxySelector, isCorrect);\n\n    if (isCorrect) {\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n    }\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import {\n  Container,\n  FormControl,\n  FormLabel,\n  HStack,\n  Icon,\n  Link,\n  Radio,\n  RadioGroup,\n  Select,\n  Switch,\n  VStack,\n} from \"@chakra-ui/react\";\nimport Card from \"components/Card\";\nimport * as config from \"config\";\nimport { map } from \"lodash\";\nimport React, { FC } from \"react\";\nimport { HiOutlineExternalLink as ExternalLinkIcon } from \"react-icons/hi\";\nimport { useRecoilState } from \"recoil\";\nimport {\n  fretboardIdState,\n  fretMarkersState,\n  halfNotesState,\n  leftHandedState,\n} from \"state\";\nimport { IFretboardId, IHalfNotes } from \"types\";\n\nconst FretboardSelect = () => {\n  const [value, setValue] = useRecoilState(fretboardIdState);\n\n  return (\n    <FormControl>\n      <FormLabel>Fretboard</FormLabel>\n      <Select\n        value={value}\n        onChange={(event) => setValue(event.target.value as IFretboardId)}\n      >\n        {map(config.fretboards, (fretboard) => (\n          <option key={fretboard.id} value={fretboard.id}>\n            {fretboard.name}\n          </option>\n        ))}\n      </Select>\n      <Link\n        mt={1}\n        isExternal\n        color=\"teal.500\"\n        alignItems=\"center\"\n        display=\"inline-flex\"\n        href=\"https://github.com/stuart-williams/note-trainer/issues/new?assignees=&labels=&template=fretboard-request.md&title=Fretboard%20Request\"\n      >\n        Request a fretboard\n        <Icon ml={1} as={ExternalLinkIcon} />\n      </Link>\n    </FormControl>\n  );\n};\n\nconst LeftHanded = () => {\n  const [isChecked, setChecked] = useRecoilState(leftHandedState);\n\n  return (\n    <FormControl>\n      <FormLabel>Left Handed</FormLabel>\n      <Switch\n        isChecked={isChecked}\n        onChange={(event) => setChecked(event.target.checked)}\n      />\n    </FormControl>\n  );\n};\n\nconst FretMarkers = () => {\n  const [isChecked, setChecked] = useRecoilState(fretMarkersState);\n\n  return (\n    <FormControl>\n      <FormLabel>Fret Markers</FormLabel>\n      <Switch\n        isChecked={isChecked}\n        onChange={(event) => setChecked(event.target.checked)}\n      />\n    </FormControl>\n  );\n};\n\nconst HalfNotes = () => {\n  const [value, setValue] = useRecoilState(halfNotesState);\n\n  return (\n    <FormControl>\n      <FormLabel>Half Notes</FormLabel>\n      <RadioGroup\n        value={value}\n        onChange={(value) => setValue(value as IHalfNotes)}\n      >\n        <HStack>\n          <Radio value=\"random\">Random</Radio>\n          <Radio value=\"sharps\">Sharps</Radio>\n          <Radio value=\"flats\">Flats</Radio>\n        </HStack>\n      </RadioGroup>\n    </FormControl>\n  );\n};\n\nexport const SettingsPage: FC = () => (\n  <Container>\n    <VStack as={Card} spacing={6}>\n      <FretboardSelect />\n      <LeftHanded />\n      <FretMarkers />\n      <HalfNotes />\n    </VStack>\n  </Container>\n);\n\nexport default SettingsPage;\n"],"sourceRoot":""}