{"version":3,"sources":["utils/maths.ts","utils/notes.ts","utils/state.ts","state/statistics.ts","state/fretboard.ts","state/settings.ts","config/index.ts","state/find-the-note/notes.ts","state/find-the-note/statistics.ts","state/find-the-note/index.ts","state/name-the-note/notes.ts","state/name-the-note/statistics.ts","state/name-the-note/index.ts","components/RotateDevice.tsx","components/Fretboard/Frets.tsx","components/Fretboard/Notes.tsx","components/Fretboard/Strings.tsx","components/Fretboard/Fretboard.tsx","components/Keyboard.tsx","pages/fretboard-reference.tsx"],"names":["percent","value","total","round","getNoteNames","times","map","sharps","Note","simplify","repeat","midiToNoteName","midiNumber","Midi","pitchClass","toDisplayNoteName","note","halfNotes","noteName","isNumber","enharmonic","Math","random","localStorageEffect","defaultValue","node","setSelf","onSet","key","ls","newValue","DefaultValue","gameStatsState","selector","get","ntnStats","ntnGameStatsState","ftnStats","fntGameStatsState","game","set","reset","fretboardState","config","fretboardIdState","fretboardNotesState","fretboard","leftHanded","leftHandedState","flatMap","tuning","i","fretCount","steps","id","simple","name","string","atom","default","effects_UNSTABLE","fretMarkersState","halfNotesState","fretboards","h","fretMarkers","guages","reverse","seedState","queueState","shuffle","pointerState","activeNotesState","pointerProxySelector","queue","targetNoteState","targetNoteCountState","filter","length","totalAttemptsState","totalCorrectState","gameAttemptsState","gameCorrectState","statProxySelector","Number","correct","attempts","gameProxySelector","count","activeNotes","nextActiveNotes","without","isCorrect","RotateDevice","isPortrait","useOrientation","type","includes","useState","isOpen","setOpen","cancelRef","useRef","useEffect","isCentered","onClose","leastDestructiveRef","mx","fontSize","fontWeight","textAlign","as","VStack","pb","FcRotateToLandscape","boxSize","FretsGrid","chakra","Grid","baseStyle","top","left","right","bottom","position","pointerEvents","Fret","alignItems","flexDirection","justifyContent","_before","w","background","Nut","Box","content","FretMarker","Circle","bg","Frets","useRecoilValue","columns","templateColumns","fretNum","numDots","hasMarker","renderMarker","styles","undefined","sx","templateRows","NotesGrid","SimpleGrid","color","display","borderRadius","transform","Notes","onNoteClick","identity","notes","activeNote","find","displayName","onClick","StringsGrid","String","Flex","boxShadow","Strings","_","Board","Fretboard","noteRange","first","toMidi","last","shortcuts","KeyboardShortcuts","create","firstNote","lastNote","keyboardConfig","HOME_ROW","Container","ContainerComponent","maxH","minH","flex","maxW","props","cache","stopNote","playNote","midi","keyboardShortcuts","renderNoteLabel","nameName","current","className","FretboardReference","noteFilter","setNoteFilter","useMemo","reduce","accum","alignSelf"],"mappings":"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","file":"static/js/fretboard-reference.06c1fa4c.chunk.js","sourcesContent":["import { round } from \"lodash\";\n\nexport const percent = (value: number, total: number): number =>\n  total > 0 ? round((value / total) * 100) : 0;\n","import { Midi, Note } from \"@tonaljs/tonal\";\nimport { isNumber, repeat, times } from \"lodash\";\nimport { IHalfNotes } from \"types\";\n\nexport const getNoteNames = (): string[] =>\n  times(12).map((sharps) => Note.simplify(\"C\" + repeat(\"#\", sharps)));\n\nexport const midiToNoteName = (midiNumber: number): string =>\n  Midi.midiToNoteName(midiNumber, { sharps: true, pitchClass: true });\n\nexport const isEnharmonicEquivalent = (a: string, b: string): boolean =>\n  a === b || Note.enharmonic(a) === b;\n\nexport const toDisplayNoteName = (\n  note: string | number,\n  halfNotes: IHalfNotes = \"sharps\"\n): string => {\n  const noteName = isNumber(note) ? midiToNoteName(note) : note;\n\n  if (Note.enharmonic(noteName) === noteName || halfNotes === \"sharps\") {\n    return noteName;\n  }\n\n  if (halfNotes === \"flats\") {\n    return Note.enharmonic(noteName);\n  }\n\n  return Math.random() > 0.5 ? Note.enharmonic(noteName) : noteName;\n};\n","import * as ls from \"local-storage\";\nimport { AtomEffect, DefaultValue } from \"recoil\";\n\nexport const localStorageEffect =\n  <T>(defaultValue?: T): AtomEffect<T> =>\n  ({ node, setSelf, onSet }) => {\n    const key = `noteTrainer.${node.key}`;\n    const value = ls.get<T>(key);\n\n    if (value !== null) {\n      setSelf(value);\n    } else if (defaultValue) {\n      ls.set<T>(key, defaultValue);\n      setSelf(defaultValue);\n    }\n\n    onSet((newValue) => {\n      if (newValue instanceof DefaultValue) {\n        ls.remove(key);\n      } else {\n        ls.set<T>(key, newValue);\n      }\n    });\n  };\n","import { DefaultValue, selector } from \"recoil\";\nimport { IStats } from \"types\";\nimport { gameStatsState as fntGameStatsState } from \"./find-the-note\";\nimport { gameStatsState as ntnGameStatsState } from \"./name-the-note\";\n\ninterface GameStats extends IStats {\n  game: string;\n}\n\nexport const gameStatsState = selector<GameStats[]>({\n  key: \"gameStatsState\",\n  get: ({ get }) => {\n    const { total: ntnStats } = get(ntnGameStatsState);\n    const { total: ftnStats } = get(fntGameStatsState);\n\n    return [\n      {\n        game: \"Name the Note\",\n        ...ntnStats,\n      },\n      {\n        ...ftnStats,\n        game: \"Find the Note\",\n      },\n    ];\n  },\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(ntnGameStatsState);\n      reset(fntGameStatsState);\n    }\n  },\n});\n","import { Note } from \"@tonaljs/tonal\";\nimport * as config from \"config\";\nimport { flatMap, repeat, times } from \"lodash\";\nimport { selector } from \"recoil\";\nimport { IFretboard, INote } from \"types\";\nimport { fretboardIdState, leftHandedState } from \"./settings\";\n\nexport const fretboardState = selector<IFretboard>({\n  key: \"fretboardState\",\n  get: ({ get }) => config.fretboards[get(fretboardIdState)],\n});\n\nexport const fretboardNotesState = selector<INote[]>({\n  key: \"fretboardNotesState\",\n  get: ({ get }) => {\n    const fretboard = get(fretboardState);\n    const leftHanded = get(leftHandedState);\n\n    return flatMap(fretboard.tuning, (note, i) =>\n      times(fretboard.fretCount + 1).map((steps) => {\n        const id = note + repeat(leftHanded ? \"b\" : \"#\", steps);\n        const simple = Note.simplify(id);\n        const name = leftHanded ? Note.enharmonic(simple) : simple;\n\n        return {\n          id,\n          name,\n          string: i + 1,\n        };\n      })\n    );\n  },\n});\n","import { atom } from \"recoil\";\nimport { IFretboardId, IHalfNotes } from \"types\";\nimport { localStorageEffect } from \"utils\";\n\nexport const fretboardIdState = atom<IFretboardId>({\n  key: \"fretboardIdState\",\n  default: \"standard-6\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const leftHandedState = atom<boolean>({\n  key: \"leftHandedState\",\n  default: false,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const fretMarkersState = atom<boolean>({\n  key: \"fretMarkersState\",\n  default: true,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const halfNotesState = atom<IHalfNotes>({\n  key: \"halfNotesState\",\n  default: \"random\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n","import { IFretboardId, IFretboard } from \"types\";\n\nexport const fretboards: Record<IFretboardId, IFretboard> = {\n  \"standard-6\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-6\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Standard Tuning\",\n    tuning: [\"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n  },\n  \"e-flat\": {\n    h: 220,\n    fretCount: 12,\n    id: \"e-flat\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - E Flat\",\n    tuning: [\"D#\", \"G#\", \"C#\", \"F#\", \"A#\", \"D#\"].reverse(),\n  },\n  \"open-e\": {\n    h: 220,\n    fretCount: 12,\n    id: \"open-e\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Open E\",\n    tuning: [\"E\", \"B\", \"E\", \"G#\", \"B\", \"E\"].reverse(),\n  },\n  \"dad-gad\": {\n    h: 220,\n    fretCount: 12,\n    id: \"dad-gad\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Dad-Gad\",\n    tuning: [\"D\", \"A\", \"D\", \"G\", \"A\", \"D\"].reverse(),\n  },\n  \"standard-7\": {\n    h: 254,\n    fretCount: 12,\n    id: \"standard-7\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4, 3, 2, 1].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n    name: \"7 String Guitar - Standard Tuning\",\n  },\n  \"standard-4\": {\n    h: 200,\n    fretCount: 12,\n    id: \"standard-4\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4].reverse(),\n    tuning: [\"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"4 String Bass - Standard Tuning\",\n  },\n  \"standard-5\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-5\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [8, 7, 6, 5, 4].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"5 String Bass - Standard Tuning\",\n  },\n};\n","import { filter } from \"lodash\";\nimport { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { fretboardNotesState } from \"state\";\nimport { INote } from \"types\";\nimport { getNoteNames, localStorageEffect } from \"utils\";\n\n/**\n * Seed for queue shuffling.\n */\nconst seedState = atom<number>({\n  key: \"find-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\n/**\n * Maintain a queue for a consistent spread of notes.\n */\nconst queueState = selector<string[]>({\n  key: \"find-the-note/queueState\",\n  get: ({ get }) => shuffle(getNoteNames(), get(seedState)),\n});\n\n/**\n * Pointer to the current note in the queue.\n */\nconst pointerState = atom<number>({\n  key: \"find-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * Notes the user has selected to be rendered on the fretboard.\n */\nexport const activeNotesState = atom<INote[]>({\n  key: \"find-the-note/activeNotesState\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * A wrapper around pointerState which handles reshuffling the\n * queue when we reach the end, moving the pointer and clearing the\n * fretboard.\n */\nexport const pointerProxySelector = selector<number>({\n  key: \"find-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      // Reshuffle queue and point to the start\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      // Move pointer to next note\n      set(pointerState, newValue);\n    }\n\n    // Clear fretboard\n    reset(activeNotesState);\n  },\n});\n\n/**\n * Current game note.\n */\nexport const targetNoteState = selector<string>({\n  key: \"find-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n\n/**\n * Number of times the target note appears on the fretboard.\n */\nexport const targetNoteCountState = selector<number>({\n  key: \"find-the-note/targetNoteCountState\",\n  get: ({ get }) =>\n    filter(get(fretboardNotesState), [\"name\", get(targetNoteState)]).length,\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"find-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"find-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"find-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"find-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"find-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"find-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { without } from \"lodash\";\nimport { DefaultValue, selector } from \"recoil\";\nimport { INote } from \"types\";\nimport {\n  activeNotesState,\n  pointerProxySelector,\n  targetNoteCountState,\n  targetNoteState,\n} from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote | null>({\n  key: \"find-the-note/gameProxySelector\",\n  get: () => null,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    // Incorrect\n    if (newValue === null || newValue.name !== get(targetNoteState)) {\n      // Update failed attempt stat\n      set(statProxySelector, false);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Correct\n    const count = get(targetNoteCountState);\n    const activeNotes = get(activeNotesState);\n    const nextActiveNotes = [...without(activeNotes, newValue), newValue];\n\n    // All notes found\n    if (nextActiveNotes.length === count) {\n      // Update successful attempt stat\n      set(statProxySelector, true);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Draw selected note on the fretboard\n    set(activeNotesState, nextActiveNotes);\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { INote } from \"types\";\nimport { localStorageEffect } from \"utils\";\nimport { fretboardNotesState } from \"../fretboard\";\n\nconst seedState = atom<number>({\n  key: \"name-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\nconst queueState = selector<INote[]>({\n  key: \"name-the-note/queueState\",\n  get: ({ get }) => shuffle(get(fretboardNotesState), get(seedState)),\n});\n\nconst pointerState = atom<number>({\n  key: \"name-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const pointerProxySelector = selector<number>({\n  key: \"name-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      set(pointerState, newValue);\n    }\n  },\n});\n\nexport const targetNoteState = selector<INote>({\n  key: \"name-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"name-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"name-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"name-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"name-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"name-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"name-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { DefaultValue, selector } from \"recoil\";\nimport { INote } from \"types\";\nimport { pointerProxySelector, targetNoteState } from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote>({\n  key: \"name-the-note/gameProxySelector\",\n  get: ({ get }) => get(targetNoteState),\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    const isCorrect = newValue.name === get(targetNoteState).name;\n\n    // Update attempt stat\n    set(statProxySelector, isCorrect);\n\n    if (isCorrect) {\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n    }\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import {\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  Icon,\n  Text,\n  VStack,\n} from \"@chakra-ui/react\";\nimport React, { FC, useEffect, useRef, useState } from \"react\";\nimport { FcRotateToLandscape } from \"react-icons/fc\";\nimport { useOrientation } from \"react-use\";\n\nconst RotateDevice: FC = () => {\n  const orientation = useOrientation();\n  const isPortrait = orientation.type.includes(\"portrait\");\n  const [isOpen, setOpen] = useState(isPortrait);\n  const cancelRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    setOpen(isPortrait);\n  }, [isPortrait]);\n\n  return (\n    <AlertDialog\n      isCentered\n      isOpen={isOpen}\n      onClose={() => setOpen(false)}\n      leastDestructiveRef={cancelRef}\n    >\n      <AlertDialogOverlay>\n        <AlertDialogContent mx={4}>\n          <AlertDialogHeader fontSize=\"xl\" fontWeight=\"bold\" textAlign=\"center\">\n            Rotate Device\n          </AlertDialogHeader>\n          <AlertDialogBody as={VStack} pb={4}>\n            <Icon as={FcRotateToLandscape} boxSize={20} />\n            <Text>Rotate your device for a better experience</Text>\n          </AlertDialogBody>\n        </AlertDialogContent>\n      </AlertDialogOverlay>\n    </AlertDialog>\n  );\n};\n\nexport default RotateDevice;\n","import { Box, chakra, Circle, Grid } from \"@chakra-ui/react\";\nimport { times } from \"lodash\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState, fretMarkersState, leftHandedState } from \"state\";\n\nconst FretsGrid = chakra(Grid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n    pointerEvents: \"none\",\n  },\n});\n\nconst Fret = chakra(Grid, {\n  baseStyle: {\n    position: \"relative\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    _before: {\n      w: \"8px\",\n      top: 0,\n      bottom: 0,\n      position: \"absolute\",\n      background: \"linear-gradient(to right, gold, gray, gold)\",\n    },\n  },\n});\n\nconst Nut = chakra(Box, {\n  baseStyle: {\n    position: \"relative\",\n    _before: {\n      top: 0,\n      bottom: 0,\n      w: \"16px\",\n      content: `\"\"`,\n      position: \"absolute\",\n      background: \"gray.200\",\n    },\n  },\n});\n\nconst FretMarker = chakra(Circle, {\n  baseStyle: {\n    h: \"26px\",\n    w: \"26px\",\n    bg: \"gray.200\",\n  },\n});\n\nconst Frets: FC = () => {\n  const fretboard = useRecoilValue(fretboardState);\n  const leftHanded = useRecoilValue(leftHandedState);\n  const fretMarkers = useRecoilValue(fretMarkersState);\n  const columns = fretboard.fretCount + 1;\n\n  return (\n    <FretsGrid templateColumns={`repeat(${columns}, 1fr)`}>\n      {times(columns).map((i) => {\n        const fretNum = leftHanded ? fretboard.fretCount - i : i;\n        const numDots = fretNum % 12 === 0 ? 2 : 1;\n        const hasMarker = fretboard.fretMarkers.includes(fretNum);\n        const renderMarker = fretMarkers && hasMarker;\n\n        const styles = {\n          \":before\": {\n            [leftHanded ? \"left\" : \"right\"]: \"-4px\",\n            content: fretNum === fretboard.fretCount ? undefined : `\"\"`,\n          },\n        };\n\n        return !fretNum ? (\n          <Nut key={fretNum} sx={styles} />\n        ) : (\n          <Fret\n            sx={styles}\n            key={fretNum}\n            templateRows={`repeat(${numDots}, 1fr)`}\n          >\n            {renderMarker && times(numDots).map((i) => <FretMarker key={i} />)}\n          </Fret>\n        );\n      })}\n    </FretsGrid>\n  );\n};\n\nexport default Frets;\n","import { Box, chakra, SimpleGrid } from \"@chakra-ui/react\";\nimport { find, identity } from \"lodash\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardNotesState, fretboardState } from \"state\";\nimport { INote } from \"types\";\n\nconst NotesGrid = chakra(SimpleGrid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n  },\n});\n\nconst Note = chakra(Box, {\n  baseStyle: {\n    position: \"relative\",\n    _before: {\n      h: \"34px\",\n      w: \"34px\",\n      top: \"50%\",\n      left: \"50%\",\n      color: \"white\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: \"full\",\n      position: \"absolute\",\n      justifyContent: \"center\",\n      transform: \"translate(-50%, -50%)\",\n    },\n  },\n});\n\ninterface Props {\n  activeNotes: INote[];\n  onNoteClick?: (note: INote) => void;\n}\n\nconst Notes: FC<Props> = ({ activeNotes, onNoteClick = identity }) => {\n  const fretboard = useRecoilValue(fretboardState);\n  const notes = useRecoilValue(fretboardNotesState);\n  const columns = fretboard.fretCount + 1;\n\n  return (\n    <NotesGrid columns={columns}>\n      {notes.map((note, i) => {\n        const activeNote = find(activeNotes, note);\n        const content = activeNote?.displayName || \"\";\n\n        return (\n          <Note\n            key={i}\n            onClick={() => onNoteClick(note)}\n            sx={\n              activeNote\n                ? {\n                    \":before\": {\n                      bg: \"red.500\",\n                      content: `\"${content}\"`,\n                    },\n                  }\n                : undefined\n            }\n          />\n        );\n      })}\n    </NotesGrid>\n  );\n};\n\nexport default Notes;\n","import { chakra, Flex, Grid } from \"@chakra-ui/react\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState } from \"state\";\n\nconst StringsGrid = chakra(Grid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n    pointerEvents: \"none\",\n  },\n});\n\nconst String = chakra(Flex, {\n  baseStyle: {\n    alignItems: \"center\",\n    _before: {\n      w: \"100%\",\n      content: `\"\"`,\n      boxShadow: \"md\",\n      background: \"linear-gradient(to bottom, gray, white, gray)\",\n    },\n  },\n});\n\nconst Strings: FC = () => {\n  const fretboard = useRecoilValue(fretboardState);\n\n  return (\n    <StringsGrid templateRows={`repeat(${fretboard.tuning.length}, 1fr)`}>\n      {fretboard.tuning.map((_, i) => (\n        <String\n          key={i}\n          sx={{\n            \":before\": {\n              h: (fretboard.guages[i] || 1) + \"px\",\n            },\n          }}\n        />\n      ))}\n    </StringsGrid>\n  );\n};\n\nexport default Strings;\n","import { Box, chakra } from \"@chakra-ui/react\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState } from \"state\";\nimport { INote } from \"types\";\nimport Frets from \"./Frets\";\nimport Notes from \"./Notes\";\nimport Strings from \"./Strings\";\n\nconst Board = chakra(Box, {\n  baseStyle: {\n    bg: `#222222`,\n    position: \"relative\",\n  },\n});\n\ninterface Props {\n  activeNotes: INote[];\n  onNoteClick?: (note: INote) => void;\n}\n\nconst Fretboard: FC<Props> = ({ activeNotes, onNoteClick }) => {\n  const fretboard = useRecoilValue(fretboardState);\n\n  return (\n    <Board h={fretboard.h}>\n      <Frets />\n      <Strings />\n      <Notes onNoteClick={onNoteClick} activeNotes={activeNotes} />\n    </Board>\n  );\n};\n\nexport default Fretboard;\n","import {\n  chakra,\n  Container as ContainerComponent,\n  Text,\n} from \"@chakra-ui/react\";\nimport { Midi } from \"@tonaljs/tonal\";\nimport { identity } from \"lodash\";\nimport React, { FC, useRef } from \"react\";\nimport { KeyboardShortcuts, Piano } from \"react-piano\";\nimport \"react-piano/dist/styles.css\";\nimport { useRecoilValue } from \"recoil\";\nimport { halfNotesState } from \"state\";\nimport \"theme/react-piano.css\";\nimport { midiToNoteName, toDisplayNoteName } from \"utils\";\n\nconst noteRange = {\n  first: Midi.toMidi(\"c4\"),\n  last: Midi.toMidi(\"b4\"),\n};\n\nconst shortcuts = KeyboardShortcuts.create({\n  firstNote: noteRange.first,\n  lastNote: noteRange.last,\n  keyboardConfig: KeyboardShortcuts.HOME_ROW,\n});\n\nconst Container = chakra(ContainerComponent, {\n  baseStyle: {\n    maxH: \"220px\",\n    minH: \"100px\",\n    flex: \"1 1 auto\",\n    maxW: \"container.sm\",\n  },\n});\n\ninterface Props {\n  onClick: (noteName: string) => void;\n}\n\nconst Keyboard: FC<Props> = ({ onClick, ...props }) => {\n  const halfNotes = useRecoilValue(halfNotesState);\n\n  /**\n   * renderNoteLabel is called on mouse over for some reason so\n   * cache `[midi]: noteName` so we don't randomly switch between\n   * sharps and flats when halfNotes = \"random\"\n   */\n  const cache = useRef<{ [midi: number]: string }>({});\n\n  const renderNoteLabel = ({ midiNumber: midi }: { midiNumber: number }) => {\n    const nameName = cache.current[midi] || toDisplayNoteName(midi, halfNotes);\n    cache.current[midi] = nameName;\n\n    return <Text className=\"ReactPiano__NoteLabel\">{nameName}</Text>;\n  };\n\n  const handleClick = (midi: number) => onClick(midiToNoteName(midi));\n\n  return (\n    <Container {...props}>\n      <Piano\n        stopNote={identity}\n        noteRange={noteRange}\n        playNote={handleClick}\n        keyboardShortcuts={shortcuts}\n        renderNoteLabel={renderNoteLabel}\n      />\n    </Container>\n  );\n};\n\nexport default chakra(Keyboard);\n","import Fretboard from \"components/Fretboard\";\nimport Keyboard from \"components/Keyboard\";\nimport RotateDevice from \"components/RotateDevice\";\nimport React, { FC, useMemo, useState } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardNotesState, halfNotesState } from \"state\";\nimport { INote } from \"types\";\nimport { toDisplayNoteName } from \"utils\";\n\nconst FretboardReference: FC = () => {\n  const halfNotes = useRecoilValue(halfNotesState);\n  const notes = useRecoilValue(fretboardNotesState);\n  const [noteFilter, setNoteFilter] = useState<string>(\"\");\n\n  const activeNotes = useMemo<INote[]>(\n    () =>\n      notes.reduce<INote[]>(\n        (accum, note) =>\n          !noteFilter || note.name === noteFilter\n            ? [\n                ...accum,\n                {\n                  ...note,\n                  displayName: toDisplayNoteName(note.name, halfNotes),\n                },\n              ]\n            : accum,\n        []\n      ),\n    [noteFilter, halfNotes]\n  );\n\n  return (\n    <>\n      <RotateDevice />\n      <Fretboard activeNotes={activeNotes} />\n      <Keyboard alignSelf=\"center\" onClick={setNoteFilter} />\n    </>\n  );\n};\n\nexport default FretboardReference;\n"],"sourceRoot":""}