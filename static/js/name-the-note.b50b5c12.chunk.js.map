{"version":3,"sources":["utils/maths.ts","utils/notes.ts","utils/state.ts","state/statistics.ts","state/fretboard.ts","state/settings.ts","config/index.ts","state/find-the-note/notes.ts","state/find-the-note/statistics.ts","state/find-the-note/index.ts","state/name-the-note/notes.ts","state/name-the-note/statistics.ts","state/name-the-note/index.ts","components/RotateDevice.tsx","components/Fretboard/Frets.tsx","components/Fretboard/Notes.tsx","components/Fretboard/Strings.tsx","components/Fretboard/Fretboard.tsx","components/GameControls.tsx","components/Keyboard.tsx","../../src/MidiNumbers.js","../../src/Key.js","../../src/Keyboard.js","../../src/ControlledPiano.js","../../src/Piano.js","../../src/KeyboardShortcuts.js","../node_modules/just-range/index.js","../node_modules/classnames/index.js","../node_modules/lodash.difference/index.js","pages/name-the-note.tsx"],"names":["percent","value","total","round","getNoteNames","times","map","sharps","Note","simplify","repeat","midiToNoteName","midiNumber","Midi","pitchClass","toDisplayNoteName","note","halfNotes","noteName","isNumber","enharmonic","Math","random","localStorageEffect","defaultValue","node","setSelf","onSet","key","ls","newValue","DefaultValue","gameStatsState","selector","get","ntnStats","ntnGameStatsState","ftnStats","fntGameStatsState","game","set","reset","fretboardState","config","fretboardIdState","fretboardNotesState","fretboard","leftHanded","leftHandedState","flatMap","tuning","i","fretCount","steps","id","simple","name","string","atom","default","effects_UNSTABLE","fretMarkersState","halfNotesState","fretboards","h","fretMarkers","guages","reverse","seedState","queueState","shuffle","pointerState","activeNotesState","pointerProxySelector","queue","targetNoteState","targetNoteCountState","filter","length","totalAttemptsState","totalCorrectState","gameAttemptsState","gameCorrectState","statProxySelector","Number","correct","attempts","gameProxySelector","count","activeNotes","nextActiveNotes","without","isCorrect","RotateDevice","isPortrait","useOrientation","type","includes","useState","isOpen","setOpen","cancelRef","useRef","useEffect","isCentered","onClose","leastDestructiveRef","mx","fontSize","fontWeight","textAlign","as","VStack","pb","FcRotateToLandscape","boxSize","FretsGrid","chakra","Grid","baseStyle","top","left","right","bottom","position","pointerEvents","Fret","alignItems","flexDirection","justifyContent","_before","w","background","Nut","Box","content","FretMarker","Circle","bg","Frets","useRecoilValue","columns","templateColumns","fretNum","numDots","hasMarker","renderMarker","styles","undefined","sx","templateRows","NotesGrid","SimpleGrid","color","display","borderRadius","transform","Notes","onNoteClick","identity","notes","activeNote","find","displayName","onClick","StringsGrid","String","Flex","boxShadow","Strings","_","Board","Fretboard","StatBadge","Badge","minW","GameControls","onResetGame","HStack","align","maxW","hasArrow","label","placement","openDelay","variant","aria-label","icon","ResetIcon","spacing","colorScheme","borderWidth","borderColor","px","noteRange","first","toMidi","last","shortcuts","KeyboardShortcuts","create","firstNote","lastNote","keyboardConfig","HOME_ROW","Container","ContainerComponent","maxH","minH","flex","props","cache","stopNote","playNote","midi","keyboardShortcuts","renderNoteLabel","nameName","current","className","SORTED_PITCHES","ACCIDENTAL_PITCHES","PITCH_INDEXES","C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B","NOTE_REGEX","midiNumberAttributesCache","MAX_MIDI_NUMBER","pitchIndex","octave","pitchName","isAccidental","buildMidiNumberAttributes","getAttributes","attrs","Error","NATURAL_MIDI_NUMBERS","fromNote","match","letter","accidental","MIDI_NUMBER_C0","parseInt","MIN_MIDI_NUMBER","Key","MidiNumbers","this","pitchPositions","getAbsoluteKeyPosition","naturalKeyWidth","accidentalWidthRatio","gliss","useTouchEvents","active","disabled","children","classNames","style","ratioToPercentage","getRelativeKeyPosition","width","onMouseDown","onMouseUp","onMouseEnter","onMouseLeave","onTouchStart","onTouchCancel","onTouchEnd","React","Component","ratio","PropTypes","onPlayNoteInput","onStopNoteInput","Keyboard","range","getMidiNumbers","keyWidth","height","getHeight","isActive","isNaturalMidiNumber","propName","componentName","keyWidthToHeight","number","ControlledPiano","isMouseDown","prevActiveNotes","notesStopped","difference","notesStarted","shortcut","sh","event","keyboardShortcut","window","prevProps","prevState","state","isRequired","Piano","otherProps","handleStopNoteInput","currentMidiNumber","naturalKeyIndex","BOTTOM_ROW","natural","flat","sharp","QWERTY_ROW","module","exports","start","stop","step","toReturn","increasing","push","hasOwn","hasOwnProperty","classes","arguments","arg","argType","Array","isArray","inner","apply","toString","Object","prototype","call","join","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","reIsHostCtor","freeGlobal","global","freeSelf","self","root","Function","func","thisArg","args","arrayIncludes","array","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayPush","values","offset","cacheHas","has","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","replace","Symbol","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","nativeMax","max","Map","getNative","nativeCreate","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","add","assocIndexOf","other","baseDifference","iteratee","isCommon","result","valuesLength","arrayMap","outer","computed","valuesIndex","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","isFunction","e","isHostObject","test","toSource","getMapData","data","isKeyable","object","getValue","isArrayLikeObject","isArguments","pop","otherArgs","isArrayLike","isLength","isObjectLike","tag","NameTheNotePage","stats","useRecoilState","updateGame","resetGame","useResetRecoilState","alignSelf"],"mappings":"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","file":"static/js/name-the-note.b50b5c12.chunk.js","sourcesContent":["import { round } from \"lodash\";\n\nexport const percent = (value: number, total: number): number =>\n  total > 0 ? round((value / total) * 100) : 0;\n","import { Midi, Note } from \"@tonaljs/tonal\";\nimport { isNumber, repeat, times } from \"lodash\";\nimport { IHalfNotes } from \"types\";\n\nexport const getNoteNames = (): string[] =>\n  times(12).map((sharps) => Note.simplify(\"C\" + repeat(\"#\", sharps)));\n\nexport const midiToNoteName = (midiNumber: number): string =>\n  Midi.midiToNoteName(midiNumber, { sharps: true, pitchClass: true });\n\nexport const isEnharmonicEquivalent = (a: string, b: string): boolean =>\n  a === b || Note.enharmonic(a) === b;\n\nexport const toDisplayNoteName = (\n  note: string | number,\n  halfNotes: IHalfNotes = \"sharps\"\n): string => {\n  const noteName = isNumber(note) ? midiToNoteName(note) : note;\n\n  if (Note.enharmonic(noteName) === noteName || halfNotes === \"sharps\") {\n    return noteName;\n  }\n\n  if (halfNotes === \"flats\") {\n    return Note.enharmonic(noteName);\n  }\n\n  return Math.random() > 0.5 ? Note.enharmonic(noteName) : noteName;\n};\n","import * as ls from \"local-storage\";\nimport { AtomEffect, DefaultValue } from \"recoil\";\n\nexport const localStorageEffect =\n  <T>(defaultValue?: T): AtomEffect<T> =>\n  ({ node, setSelf, onSet }) => {\n    const key = `noteTrainer.${node.key}`;\n    const value = ls.get<T>(key);\n\n    if (value !== null) {\n      setSelf(value);\n    } else if (defaultValue) {\n      ls.set<T>(key, defaultValue);\n      setSelf(defaultValue);\n    }\n\n    onSet((newValue) => {\n      if (newValue instanceof DefaultValue) {\n        ls.remove(key);\n      } else {\n        ls.set<T>(key, newValue);\n      }\n    });\n  };\n","import { DefaultValue, selector } from \"recoil\";\nimport { IStats } from \"types\";\nimport { gameStatsState as fntGameStatsState } from \"./find-the-note\";\nimport { gameStatsState as ntnGameStatsState } from \"./name-the-note\";\n\ninterface GameStats extends IStats {\n  game: string;\n}\n\nexport const gameStatsState = selector<GameStats[]>({\n  key: \"gameStatsState\",\n  get: ({ get }) => {\n    const { total: ntnStats } = get(ntnGameStatsState);\n    const { total: ftnStats } = get(fntGameStatsState);\n\n    return [\n      {\n        game: \"Name the Note\",\n        ...ntnStats,\n      },\n      {\n        ...ftnStats,\n        game: \"Find the Note\",\n      },\n    ];\n  },\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(ntnGameStatsState);\n      reset(fntGameStatsState);\n    }\n  },\n});\n","import { Note } from \"@tonaljs/tonal\";\nimport * as config from \"config\";\nimport { flatMap, repeat, times } from \"lodash\";\nimport { selector } from \"recoil\";\nimport { IFretboard, INote } from \"types\";\nimport { fretboardIdState, leftHandedState } from \"./settings\";\n\nexport const fretboardState = selector<IFretboard>({\n  key: \"fretboardState\",\n  get: ({ get }) => config.fretboards[get(fretboardIdState)],\n});\n\nexport const fretboardNotesState = selector<INote[]>({\n  key: \"fretboardNotesState\",\n  get: ({ get }) => {\n    const fretboard = get(fretboardState);\n    const leftHanded = get(leftHandedState);\n\n    return flatMap(fretboard.tuning, (note, i) =>\n      times(fretboard.fretCount + 1).map((steps) => {\n        const id = note + repeat(leftHanded ? \"b\" : \"#\", steps);\n        const simple = Note.simplify(id);\n        const name = leftHanded ? Note.enharmonic(simple) : simple;\n\n        return {\n          id,\n          name,\n          string: i + 1,\n        };\n      })\n    );\n  },\n});\n","import { atom } from \"recoil\";\nimport { IFretboardId, IHalfNotes } from \"types\";\nimport { localStorageEffect } from \"utils\";\n\nexport const fretboardIdState = atom<IFretboardId>({\n  key: \"fretboardIdState\",\n  default: \"standard-6\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const leftHandedState = atom<boolean>({\n  key: \"leftHandedState\",\n  default: false,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const fretMarkersState = atom<boolean>({\n  key: \"fretMarkersState\",\n  default: true,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const halfNotesState = atom<IHalfNotes>({\n  key: \"halfNotesState\",\n  default: \"random\",\n  effects_UNSTABLE: [localStorageEffect()],\n});\n","import { IFretboardId, IFretboard } from \"types\";\n\nexport const fretboards: Record<IFretboardId, IFretboard> = {\n  \"standard-6\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-6\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Standard Tuning\",\n    tuning: [\"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n  },\n  \"e-flat\": {\n    h: 220,\n    fretCount: 12,\n    id: \"e-flat\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - E Flat\",\n    tuning: [\"D#\", \"G#\", \"C#\", \"F#\", \"A#\", \"D#\"].reverse(),\n  },\n  \"open-e\": {\n    h: 220,\n    fretCount: 12,\n    id: \"open-e\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Open E\",\n    tuning: [\"E\", \"B\", \"E\", \"G#\", \"B\", \"E\"].reverse(),\n  },\n  \"dad-gad\": {\n    h: 220,\n    fretCount: 12,\n    id: \"dad-gad\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [6, 5, 4, 3, 2, 1].reverse(),\n    name: \"6 String Guitar - Dad-Gad\",\n    tuning: [\"D\", \"A\", \"D\", \"G\", \"A\", \"D\"].reverse(),\n  },\n  \"standard-7\": {\n    h: 254,\n    fretCount: 12,\n    id: \"standard-7\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4, 3, 2, 1].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\", \"B\", \"E\"].reverse(),\n    name: \"7 String Guitar - Standard Tuning\",\n  },\n  \"standard-4\": {\n    h: 200,\n    fretCount: 12,\n    id: \"standard-4\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [7, 6, 5, 4].reverse(),\n    tuning: [\"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"4 String Bass - Standard Tuning\",\n  },\n  \"standard-5\": {\n    h: 220,\n    fretCount: 12,\n    id: \"standard-5\",\n    fretMarkers: [3, 5, 7, 9, 12],\n    guages: [8, 7, 6, 5, 4].reverse(),\n    tuning: [\"B\", \"E\", \"A\", \"D\", \"G\"].reverse(),\n    name: \"5 String Bass - Standard Tuning\",\n  },\n};\n","import { filter } from \"lodash\";\nimport { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { fretboardNotesState } from \"state\";\nimport { INote } from \"types\";\nimport { getNoteNames, localStorageEffect } from \"utils\";\n\n/**\n * Seed for queue shuffling.\n */\nconst seedState = atom<number>({\n  key: \"find-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\n/**\n * Maintain a queue for a consistent spread of notes.\n */\nconst queueState = selector<string[]>({\n  key: \"find-the-note/queueState\",\n  get: ({ get }) => shuffle(getNoteNames(), get(seedState)),\n});\n\n/**\n * Pointer to the current note in the queue.\n */\nconst pointerState = atom<number>({\n  key: \"find-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * Notes the user has selected to be rendered on the fretboard.\n */\nexport const activeNotesState = atom<INote[]>({\n  key: \"find-the-note/activeNotesState\",\n  default: [],\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\n/**\n * A wrapper around pointerState which handles reshuffling the\n * queue when we reach the end, moving the pointer and clearing the\n * fretboard.\n */\nexport const pointerProxySelector = selector<number>({\n  key: \"find-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      // Reshuffle queue and point to the start\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      // Move pointer to next note\n      set(pointerState, newValue);\n    }\n\n    // Clear fretboard\n    reset(activeNotesState);\n  },\n});\n\n/**\n * Current game note.\n */\nexport const targetNoteState = selector<string>({\n  key: \"find-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n\n/**\n * Number of times the target note appears on the fretboard.\n */\nexport const targetNoteCountState = selector<number>({\n  key: \"find-the-note/targetNoteCountState\",\n  get: ({ get }) =>\n    filter(get(fretboardNotesState), [\"name\", get(targetNoteState)]).length,\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"find-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"find-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"find-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"find-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"find-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"find-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { without } from \"lodash\";\nimport { DefaultValue, selector } from \"recoil\";\nimport { INote } from \"types\";\nimport {\n  activeNotesState,\n  pointerProxySelector,\n  targetNoteCountState,\n  targetNoteState,\n} from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote | null>({\n  key: \"find-the-note/gameProxySelector\",\n  get: () => null,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    // Incorrect\n    if (newValue === null || newValue.name !== get(targetNoteState)) {\n      // Update failed attempt stat\n      set(statProxySelector, false);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Correct\n    const count = get(targetNoteCountState);\n    const activeNotes = get(activeNotesState);\n    const nextActiveNotes = [...without(activeNotes, newValue), newValue];\n\n    // All notes found\n    if (nextActiveNotes.length === count) {\n      // Update successful attempt stat\n      set(statProxySelector, true);\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n      return;\n    }\n\n    // Draw selected note on the fretboard\n    set(activeNotesState, nextActiveNotes);\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { shuffle } from \"shuffle-seed\";\nimport { INote } from \"types\";\nimport { localStorageEffect } from \"utils\";\nimport { fretboardNotesState } from \"../fretboard\";\n\nconst seedState = atom<number>({\n  key: \"name-the-note/seedState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect(Math.random())],\n});\n\nconst queueState = selector<INote[]>({\n  key: \"name-the-note/queueState\",\n  get: ({ get }) => shuffle(get(fretboardNotesState), get(seedState)),\n});\n\nconst pointerState = atom<number>({\n  key: \"name-the-note/pointerState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const pointerProxySelector = selector<number>({\n  key: \"name-the-note/pointerProxySelector\",\n  get: ({ get }) => get(pointerState),\n  set: ({ get, set, reset }, newValue) => {\n    const queue = get(queueState);\n\n    if (newValue instanceof DefaultValue || !queue[newValue]) {\n      reset(pointerState);\n      set(seedState, get(seedState) + Math.random());\n    } else {\n      set(pointerState, newValue);\n    }\n  },\n});\n\nexport const targetNoteState = selector<INote>({\n  key: \"name-the-note/targetNoteState\",\n  get: ({ get }) => get(queueState)[get(pointerState)],\n});\n","import { atom, DefaultValue, selector } from \"recoil\";\nimport { IGameStats } from \"types\";\nimport { localStorageEffect, percent } from \"utils\";\n\nconst totalAttemptsState = atom<number>({\n  key: \"name-the-note/totalAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst totalCorrectState = atom<number>({\n  key: \"name-the-note/totalCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameAttemptsState = atom<number>({\n  key: \"name-the-note/gameAttemptsState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nconst gameCorrectState = atom<number>({\n  key: \"name-the-note/gameCorrectState\",\n  default: 0,\n  effects_UNSTABLE: [localStorageEffect()],\n});\n\nexport const statProxySelector = selector<boolean>({\n  key: \"name-the-note/statProxySelector\",\n  get: () => true,\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n    } else {\n      set(gameAttemptsState, get(gameAttemptsState) + 1);\n      set(totalAttemptsState, get(totalAttemptsState) + 1);\n      set(gameCorrectState, get(gameCorrectState) + Number(newValue));\n      set(totalCorrectState, get(totalCorrectState) + Number(newValue));\n    }\n  },\n});\n\nexport const gameStatsState = selector<IGameStats>({\n  key: \"name-the-note/gameStatsState\",\n  get: ({ get }) => ({\n    game: {\n      correct: get(gameCorrectState),\n      attempts: get(gameAttemptsState),\n      percent: percent(get(gameCorrectState), get(gameAttemptsState)),\n    },\n    total: {\n      correct: get(totalCorrectState),\n      attempts: get(totalAttemptsState),\n      percent: percent(get(totalCorrectState), get(totalAttemptsState)),\n    },\n  }),\n  set: ({ reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      reset(gameCorrectState);\n      reset(gameAttemptsState);\n      reset(totalCorrectState);\n      reset(totalAttemptsState);\n    }\n  },\n});\n","import { DefaultValue, selector } from \"recoil\";\nimport { INote } from \"types\";\nimport { pointerProxySelector, targetNoteState } from \"./notes\";\nimport { statProxySelector } from \"./statistics\";\n\nexport const gameProxySelector = selector<INote>({\n  key: \"name-the-note/gameProxySelector\",\n  get: ({ get }) => get(targetNoteState),\n  set: ({ get, set, reset }, newValue) => {\n    if (newValue instanceof DefaultValue) {\n      // Reset stats\n      reset(statProxySelector);\n      // Reset game\n      reset(pointerProxySelector);\n      return;\n    }\n\n    const isCorrect = newValue.name === get(targetNoteState).name;\n\n    // Update attempt stat\n    set(statProxySelector, isCorrect);\n\n    if (isCorrect) {\n      // Move on to the next note\n      set(pointerProxySelector, get(pointerProxySelector) + 1);\n    }\n  },\n});\n\nexport * from \"./notes\";\nexport * from \"./statistics\";\n","import {\n  AlertDialog,\n  AlertDialogBody,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  Icon,\n  Text,\n  VStack,\n} from \"@chakra-ui/react\";\nimport React, { FC, useEffect, useRef, useState } from \"react\";\nimport { FcRotateToLandscape } from \"react-icons/fc\";\nimport { useOrientation } from \"react-use\";\n\nconst RotateDevice: FC = () => {\n  const orientation = useOrientation();\n  const isPortrait = orientation.type.includes(\"portrait\");\n  const [isOpen, setOpen] = useState(isPortrait);\n  const cancelRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    setOpen(isPortrait);\n  }, [isPortrait]);\n\n  return (\n    <AlertDialog\n      isCentered\n      isOpen={isOpen}\n      onClose={() => setOpen(false)}\n      leastDestructiveRef={cancelRef}\n    >\n      <AlertDialogOverlay>\n        <AlertDialogContent mx={4}>\n          <AlertDialogHeader fontSize=\"xl\" fontWeight=\"bold\" textAlign=\"center\">\n            Rotate Device\n          </AlertDialogHeader>\n          <AlertDialogBody as={VStack} pb={4}>\n            <Icon as={FcRotateToLandscape} boxSize={20} />\n            <Text>Rotate your device for a better experience</Text>\n          </AlertDialogBody>\n        </AlertDialogContent>\n      </AlertDialogOverlay>\n    </AlertDialog>\n  );\n};\n\nexport default RotateDevice;\n","import { Box, chakra, Circle, Grid } from \"@chakra-ui/react\";\nimport { times } from \"lodash\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState, fretMarkersState, leftHandedState } from \"state\";\n\nconst FretsGrid = chakra(Grid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n    pointerEvents: \"none\",\n  },\n});\n\nconst Fret = chakra(Grid, {\n  baseStyle: {\n    position: \"relative\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    _before: {\n      w: \"8px\",\n      top: 0,\n      bottom: 0,\n      position: \"absolute\",\n      background: \"linear-gradient(to right, gold, gray, gold)\",\n    },\n  },\n});\n\nconst Nut = chakra(Box, {\n  baseStyle: {\n    position: \"relative\",\n    _before: {\n      top: 0,\n      bottom: 0,\n      w: \"16px\",\n      content: `\"\"`,\n      position: \"absolute\",\n      background: \"gray.200\",\n    },\n  },\n});\n\nconst FretMarker = chakra(Circle, {\n  baseStyle: {\n    h: \"26px\",\n    w: \"26px\",\n    bg: \"gray.200\",\n  },\n});\n\nconst Frets: FC = () => {\n  const fretboard = useRecoilValue(fretboardState);\n  const leftHanded = useRecoilValue(leftHandedState);\n  const fretMarkers = useRecoilValue(fretMarkersState);\n  const columns = fretboard.fretCount + 1;\n\n  return (\n    <FretsGrid templateColumns={`repeat(${columns}, 1fr)`}>\n      {times(columns).map((i) => {\n        const fretNum = leftHanded ? fretboard.fretCount - i : i;\n        const numDots = fretNum % 12 === 0 ? 2 : 1;\n        const hasMarker = fretboard.fretMarkers.includes(fretNum);\n        const renderMarker = fretMarkers && hasMarker;\n\n        const styles = {\n          \":before\": {\n            [leftHanded ? \"left\" : \"right\"]: \"-4px\",\n            content: fretNum === fretboard.fretCount ? undefined : `\"\"`,\n          },\n        };\n\n        return !fretNum ? (\n          <Nut key={fretNum} sx={styles} />\n        ) : (\n          <Fret\n            sx={styles}\n            key={fretNum}\n            templateRows={`repeat(${numDots}, 1fr)`}\n          >\n            {renderMarker && times(numDots).map((i) => <FretMarker key={i} />)}\n          </Fret>\n        );\n      })}\n    </FretsGrid>\n  );\n};\n\nexport default Frets;\n","import { Box, chakra, SimpleGrid } from \"@chakra-ui/react\";\nimport { find, identity } from \"lodash\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardNotesState, fretboardState } from \"state\";\nimport { INote } from \"types\";\n\nconst NotesGrid = chakra(SimpleGrid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n  },\n});\n\nconst Note = chakra(Box, {\n  baseStyle: {\n    position: \"relative\",\n    _before: {\n      h: \"34px\",\n      w: \"34px\",\n      top: \"50%\",\n      left: \"50%\",\n      color: \"white\",\n      display: \"flex\",\n      alignItems: \"center\",\n      borderRadius: \"full\",\n      position: \"absolute\",\n      justifyContent: \"center\",\n      transform: \"translate(-50%, -50%)\",\n    },\n  },\n});\n\ninterface Props {\n  activeNotes: INote[];\n  onNoteClick?: (note: INote) => void;\n}\n\nconst Notes: FC<Props> = ({ activeNotes, onNoteClick = identity }) => {\n  const fretboard = useRecoilValue(fretboardState);\n  const notes = useRecoilValue(fretboardNotesState);\n  const columns = fretboard.fretCount + 1;\n\n  return (\n    <NotesGrid columns={columns}>\n      {notes.map((note, i) => {\n        const activeNote = find(activeNotes, note);\n        const content = activeNote?.displayName || \"\";\n\n        return (\n          <Note\n            key={i}\n            onClick={() => onNoteClick(note)}\n            sx={\n              activeNote\n                ? {\n                    \":before\": {\n                      bg: \"red.500\",\n                      content: `\"${content}\"`,\n                    },\n                  }\n                : undefined\n            }\n          />\n        );\n      })}\n    </NotesGrid>\n  );\n};\n\nexport default Notes;\n","import { chakra, Flex, Grid } from \"@chakra-ui/react\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState } from \"state\";\n\nconst StringsGrid = chakra(Grid, {\n  baseStyle: {\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    position: \"absolute\",\n    pointerEvents: \"none\",\n  },\n});\n\nconst String = chakra(Flex, {\n  baseStyle: {\n    alignItems: \"center\",\n    _before: {\n      w: \"100%\",\n      content: `\"\"`,\n      boxShadow: \"md\",\n      background: \"linear-gradient(to bottom, gray, white, gray)\",\n    },\n  },\n});\n\nconst Strings: FC = () => {\n  const fretboard = useRecoilValue(fretboardState);\n\n  return (\n    <StringsGrid templateRows={`repeat(${fretboard.tuning.length}, 1fr)`}>\n      {fretboard.tuning.map((_, i) => (\n        <String\n          key={i}\n          sx={{\n            \":before\": {\n              h: (fretboard.guages[i] || 1) + \"px\",\n            },\n          }}\n        />\n      ))}\n    </StringsGrid>\n  );\n};\n\nexport default Strings;\n","import { Box, chakra } from \"@chakra-ui/react\";\nimport React, { FC } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { fretboardState } from \"state\";\nimport { INote } from \"types\";\nimport Frets from \"./Frets\";\nimport Notes from \"./Notes\";\nimport Strings from \"./Strings\";\n\nconst Board = chakra(Box, {\n  baseStyle: {\n    bg: `#222222`,\n    position: \"relative\",\n  },\n});\n\ninterface Props {\n  activeNotes: INote[];\n  onNoteClick?: (note: INote) => void;\n}\n\nconst Fretboard: FC<Props> = ({ activeNotes, onNoteClick }) => {\n  const fretboard = useRecoilValue(fretboardState);\n\n  return (\n    <Board h={fretboard.h}>\n      <Frets />\n      <Strings />\n      <Notes onNoteClick={onNoteClick} activeNotes={activeNotes} />\n    </Board>\n  );\n};\n\nexport default Fretboard;\n","import {\n  Badge,\n  ButtonProps,\n  chakra,\n  Container,\n  Flex,\n  HStack,\n  Icon,\n  IconButton,\n  Text,\n  Tooltip,\n} from \"@chakra-ui/react\";\nimport React, { FC } from \"react\";\nimport { GrRefresh as ResetIcon } from \"react-icons/gr\";\nimport { percent } from \"utils\";\n\nconst StatBadge = chakra(Badge, {\n  baseStyle: {\n    minW: \"50px\",\n    fontSize: \"xl\",\n    display: \"flex\",\n    borderRadius: \"md\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\ninterface Props {\n  correct: number;\n  attempts: number;\n  onResetGame?: ButtonProps[\"onClick\"];\n}\n\nconst GameControls: FC<Props> = ({ correct, attempts, onResetGame }) => (\n  <Container as={HStack} align=\"stretch\" maxW=\"container.sm\">\n    <Tooltip hasArrow label=\"Reset Game\" placement=\"top\" openDelay={500}>\n      <IconButton\n        variant=\"ghost\"\n        aria-label=\"Reset Game\"\n        onClick={onResetGame}\n        icon={<Icon as={ResetIcon} boxSize=\"20px\" />}\n      />\n    </Tooltip>\n    <HStack align=\"stretch\" spacing={1}>\n      <StatBadge colorScheme=\"green\" borderWidth=\"1px\" borderColor=\"green.200\">\n        {correct}\n      </StatBadge>\n      <StatBadge colorScheme=\"red\" borderWidth=\"1px\" borderColor=\"red.200\">\n        {attempts - correct}\n      </StatBadge>\n      <Flex px={2} alignItems=\"center\">\n        <Text fontWeight=\"bold\">{percent(correct, attempts)}%</Text>\n      </Flex>\n    </HStack>\n  </Container>\n);\n\nexport default GameControls;\n","import {\n  chakra,\n  Container as ContainerComponent,\n  Text,\n} from \"@chakra-ui/react\";\nimport { Midi } from \"@tonaljs/tonal\";\nimport { identity } from \"lodash\";\nimport React, { FC, useRef } from \"react\";\nimport { KeyboardShortcuts, Piano } from \"react-piano\";\nimport \"react-piano/dist/styles.css\";\nimport { useRecoilValue } from \"recoil\";\nimport { halfNotesState } from \"state\";\nimport \"theme/react-piano.css\";\nimport { midiToNoteName, toDisplayNoteName } from \"utils\";\n\nconst noteRange = {\n  first: Midi.toMidi(\"c4\"),\n  last: Midi.toMidi(\"b4\"),\n};\n\nconst shortcuts = KeyboardShortcuts.create({\n  firstNote: noteRange.first,\n  lastNote: noteRange.last,\n  keyboardConfig: KeyboardShortcuts.HOME_ROW,\n});\n\nconst Container = chakra(ContainerComponent, {\n  baseStyle: {\n    maxH: \"220px\",\n    minH: \"100px\",\n    flex: \"1 1 auto\",\n    maxW: \"container.sm\",\n  },\n});\n\ninterface Props {\n  onClick: (noteName: string) => void;\n}\n\nconst Keyboard: FC<Props> = ({ onClick, ...props }) => {\n  const halfNotes = useRecoilValue(halfNotesState);\n\n  /**\n   * renderNoteLabel is called on mouse over for some reason so\n   * cache `[midi]: noteName` so we don't randomly switch between\n   * sharps and flats when halfNotes = \"random\"\n   */\n  const cache = useRef<{ [midi: number]: string }>({});\n\n  const renderNoteLabel = ({ midiNumber: midi }: { midiNumber: number }) => {\n    const nameName = cache.current[midi] || toDisplayNoteName(midi, halfNotes);\n    cache.current[midi] = nameName;\n\n    return <Text className=\"ReactPiano__NoteLabel\">{nameName}</Text>;\n  };\n\n  const handleClick = (midi: number) => onClick(midiToNoteName(midi));\n\n  return (\n    <Container {...props}>\n      <Piano\n        stopNote={identity}\n        noteRange={noteRange}\n        playNote={handleClick}\n        keyboardShortcuts={shortcuts}\n        renderNoteLabel={renderNoteLabel}\n      />\n    </Container>\n  );\n};\n\nexport default chakra(Keyboard);\n","import range from 'just-range';\n\nconst SORTED_PITCHES = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\nconst ACCIDENTAL_PITCHES = ['Db', 'Eb', 'Gb', 'Ab', 'Bb'];\nconst PITCH_INDEXES = {\n  C: 0,\n  'C#': 1,\n  Db: 1,\n  D: 2,\n  'D#': 3,\n  Eb: 3,\n  E: 4,\n  F: 5,\n  'F#': 6,\n  Gb: 6,\n  G: 7,\n  'G#': 8,\n  Ab: 8,\n  A: 9,\n  'A#': 10,\n  Bb: 10,\n  B: 11,\n};\nconst MIDI_NUMBER_C0 = 12;\nconst MIN_MIDI_NUMBER = MIDI_NUMBER_C0;\nconst MAX_MIDI_NUMBER = 127;\nconst NOTE_REGEX = /([a-g])([#b]?)(\\d+)/;\nconst NOTES_IN_OCTAVE = 12;\n\n// Converts string notes in scientific pitch notation to a MIDI number, or null.\n//\n// Example: \"c#0\" => 13, \"eb5\" => 75, \"abc\" => null\n//\n// References:\n// - http://www.flutopedia.com/octave_notation.htm\n// - https://github.com/danigb/tonal/blob/master/packages/note/index.js\nfunction fromNote(note) {\n  if (!note) {\n    throw Error('Invalid note argument');\n  }\n  const match = NOTE_REGEX.exec(note.toLowerCase());\n  if (!match) {\n    throw Error('Invalid note argument');\n  }\n  const [, letter, accidental, octave] = match;\n  const pitchName = `${letter.toUpperCase()}${accidental}`;\n  const pitchIndex = PITCH_INDEXES[pitchName];\n  if (pitchIndex == null) {\n    throw Error('Invalid note argument');\n  }\n  return MIDI_NUMBER_C0 + pitchIndex + NOTES_IN_OCTAVE * parseInt(octave, 10);\n}\n\n//\n// Build cache for getAttributes\n//\nfunction buildMidiNumberAttributes(midiNumber) {\n  const pitchIndex = (midiNumber - MIDI_NUMBER_C0) % NOTES_IN_OCTAVE;\n  const octave = Math.floor((midiNumber - MIDI_NUMBER_C0) / NOTES_IN_OCTAVE);\n  const pitchName = SORTED_PITCHES[pitchIndex];\n  return {\n    note: `${pitchName}${octave}`,\n    pitchName,\n    octave,\n    midiNumber,\n    isAccidental: ACCIDENTAL_PITCHES.includes(pitchName),\n  };\n}\n\nfunction buildMidiNumberAttributesCache() {\n  return range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).reduce((cache, midiNumber) => {\n    cache[midiNumber] = buildMidiNumberAttributes(midiNumber);\n    return cache;\n  }, {});\n}\n\nconst midiNumberAttributesCache = buildMidiNumberAttributesCache();\n\n// Returns an object containing various attributes for a given MIDI number.\n// Throws error for invalid midiNumbers.\nfunction getAttributes(midiNumber) {\n  const attrs = midiNumberAttributesCache[midiNumber];\n  if (!attrs) {\n    throw Error('Invalid MIDI number');\n  }\n  return attrs;\n}\n\n// Returns all MIDI numbers corresponding to natural notes, e.g. C and not C# or Bb.\nconst NATURAL_MIDI_NUMBERS = range(MIN_MIDI_NUMBER, MAX_MIDI_NUMBER + 1).filter(\n  (midiNumber) => !getAttributes(midiNumber).isAccidental,\n);\n\nexport default {\n  fromNote,\n  getAttributes,\n  MIN_MIDI_NUMBER,\n  MAX_MIDI_NUMBER,\n  NATURAL_MIDI_NUMBERS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport MidiNumbers from './MidiNumbers';\n\nclass Key extends React.Component {\n  static propTypes = {\n    midiNumber: PropTypes.number.isRequired,\n    naturalKeyWidth: PropTypes.number.isRequired, // Width as a ratio between 0 and 1\n    gliss: PropTypes.bool.isRequired,\n    useTouchEvents: PropTypes.bool.isRequired,\n    accidental: PropTypes.bool.isRequired,\n    active: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    accidentalWidthRatio: PropTypes.number.isRequired,\n    pitchPositions: PropTypes.object.isRequired,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    accidentalWidthRatio: 0.65,\n    pitchPositions: {\n      C: 0,\n      Db: 0.55,\n      D: 1,\n      Eb: 1.8,\n      E: 2,\n      F: 3,\n      Gb: 3.5,\n      G: 4,\n      Ab: 4.7,\n      A: 5,\n      Bb: 5.85,\n      B: 6,\n    },\n  };\n\n  onPlayNoteInput = () => {\n    this.props.onPlayNoteInput(this.props.midiNumber);\n  };\n\n  onStopNoteInput = () => {\n    this.props.onStopNoteInput(this.props.midiNumber);\n  };\n\n  // Key position is represented by the number of natural key widths from the left\n  getAbsoluteKeyPosition(midiNumber) {\n    const OCTAVE_WIDTH = 7;\n    const { octave, pitchName } = MidiNumbers.getAttributes(midiNumber);\n    const pitchPosition = this.props.pitchPositions[pitchName];\n    const octavePosition = OCTAVE_WIDTH * octave;\n    return pitchPosition + octavePosition;\n  }\n\n  getRelativeKeyPosition(midiNumber) {\n    return (\n      this.getAbsoluteKeyPosition(midiNumber) -\n      this.getAbsoluteKeyPosition(this.props.noteRange.first)\n    );\n  }\n\n  render() {\n    const {\n      naturalKeyWidth,\n      accidentalWidthRatio,\n      midiNumber,\n      gliss,\n      useTouchEvents,\n      accidental,\n      active,\n      disabled,\n      children,\n    } = this.props;\n\n    // Need to conditionally include/exclude handlers based on useTouchEvents,\n    // because otherwise mobile taps double fire events.\n    return (\n      <div\n        className={classNames('ReactPiano__Key', {\n          'ReactPiano__Key--accidental': accidental,\n          'ReactPiano__Key--natural': !accidental,\n          'ReactPiano__Key--disabled': disabled,\n          'ReactPiano__Key--active': active,\n        })}\n        style={{\n          left: ratioToPercentage(this.getRelativeKeyPosition(midiNumber) * naturalKeyWidth),\n          width: ratioToPercentage(\n            accidental ? accidentalWidthRatio * naturalKeyWidth : naturalKeyWidth,\n          ),\n        }}\n        onMouseDown={useTouchEvents ? null : this.onPlayNoteInput}\n        onMouseUp={useTouchEvents ? null : this.onStopNoteInput}\n        onMouseEnter={gliss ? this.onPlayNoteInput : null}\n        onMouseLeave={this.onStopNoteInput}\n        onTouchStart={useTouchEvents ? this.onPlayNoteInput : null}\n        onTouchCancel={useTouchEvents ? this.onStopNoteInput : null}\n        onTouchEnd={useTouchEvents ? this.onStopNoteInput : null}\n      >\n        <div className=\"ReactPiano__NoteLabelContainer\">{children}</div>\n      </div>\n    );\n  }\n}\n\nfunction ratioToPercentage(ratio) {\n  return `${ratio * 100}%`;\n}\n\nexport default Key;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport range from 'just-range';\nimport classNames from 'classnames';\n\nimport Key from './Key';\nimport MidiNumbers from './MidiNumbers';\n\nclass Keyboard extends React.Component {\n  static propTypes = {\n    noteRange: noteRangePropType,\n    activeNotes: PropTypes.arrayOf(PropTypes.number),\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    keyWidthToHeight: PropTypes.number.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    gliss: PropTypes.bool,\n    useTouchEvents: PropTypes.bool,\n    // If width is not provided, must have fixed width and height in parent container\n    width: PropTypes.number,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    gliss: false,\n    useTouchEvents: false,\n    keyWidthToHeight: 0.33,\n    renderNoteLabel: () => {},\n  };\n\n  // Range of midi numbers on keyboard\n  getMidiNumbers() {\n    return range(this.props.noteRange.first, this.props.noteRange.last + 1);\n  }\n\n  getNaturalKeyCount() {\n    return this.getMidiNumbers().filter((number) => {\n      const { isAccidental } = MidiNumbers.getAttributes(number);\n      return !isAccidental;\n    }).length;\n  }\n\n  // Returns a ratio between 0 and 1\n  getNaturalKeyWidth() {\n    return 1 / this.getNaturalKeyCount();\n  }\n\n  getWidth() {\n    return this.props.width ? this.props.width : '100%';\n  }\n\n  getHeight() {\n    if (!this.props.width) {\n      return '100%';\n    }\n    const keyWidth = this.props.width * this.getNaturalKeyWidth();\n    return `${keyWidth / this.props.keyWidthToHeight}px`;\n  }\n\n  render() {\n    const naturalKeyWidth = this.getNaturalKeyWidth();\n    return (\n      <div\n        className={classNames('ReactPiano__Keyboard', this.props.className)}\n        style={{ width: this.getWidth(), height: this.getHeight() }}\n      >\n        {this.getMidiNumbers().map((midiNumber) => {\n          const { note, isAccidental } = MidiNumbers.getAttributes(midiNumber);\n          const isActive = !this.props.disabled && this.props.activeNotes.includes(midiNumber);\n          return (\n            <Key\n              naturalKeyWidth={naturalKeyWidth}\n              midiNumber={midiNumber}\n              noteRange={this.props.noteRange}\n              active={isActive}\n              accidental={isAccidental}\n              disabled={this.props.disabled}\n              onPlayNoteInput={this.props.onPlayNoteInput}\n              onStopNoteInput={this.props.onStopNoteInput}\n              gliss={this.props.gliss}\n              useTouchEvents={this.props.useTouchEvents}\n              key={midiNumber}\n            >\n              {this.props.disabled\n                ? null\n                : this.props.renderNoteLabel({\n                    isActive,\n                    isAccidental,\n                    midiNumber,\n                  })}\n            </Key>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nfunction isNaturalMidiNumber(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n  return MidiNumbers.NATURAL_MIDI_NUMBERS.includes(value);\n}\n\nfunction noteRangePropType(props, propName, componentName) {\n  const { first, last } = props[propName];\n  if (!first || !last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} must be an object with .first and .last values.`,\n    );\n  }\n  if (!isNaturalMidiNumber(first) || !isNaturalMidiNumber(last)) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName} values must be valid MIDI numbers, and should not be accidentals (sharp or flat notes).`,\n    );\n  }\n  if (first >= last) {\n    return new Error(\n      `Invalid prop ${propName} supplied to ${componentName}. ${propName}.first must be smaller than ${propName}.last.`,\n    );\n  }\n}\n\nexport default Keyboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport Keyboard from './Keyboard';\n\nclass ControlledPiano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired).isRequired,\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func.isRequired,\n    onStopNoteInput: PropTypes.func.isRequired,\n    renderNoteLabel: PropTypes.func.isRequired,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  static defaultProps = {\n    renderNoteLabel: ({ keyboardShortcut, midiNumber, isActive, isAccidental }) =>\n      keyboardShortcut ? (\n        <div\n          className={classNames('ReactPiano__NoteLabel', {\n            'ReactPiano__NoteLabel--active': isActive,\n            'ReactPiano__NoteLabel--accidental': isAccidental,\n            'ReactPiano__NoteLabel--natural': !isAccidental,\n          })}\n        >\n          {keyboardShortcut}\n        </div>\n      ) : null,\n  };\n\n  state = {\n    isMouseDown: false,\n    useTouchEvents: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.activeNotes !== prevProps.activeNotes) {\n      this.handleNoteChanges({\n        prevActiveNotes: prevProps.activeNotes || [],\n        nextActiveNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  // This function is responsible for diff'ing activeNotes\n  // and playing or stopping notes accordingly.\n  handleNoteChanges = ({ prevActiveNotes, nextActiveNotes }) => {\n    if (this.props.disabled) {\n      return;\n    }\n    const notesStopped = difference(prevActiveNotes, nextActiveNotes);\n    const notesStarted = difference(nextActiveNotes, prevActiveNotes);\n    notesStarted.forEach((midiNumber) => {\n      this.props.playNote(midiNumber);\n    });\n    notesStopped.forEach((midiNumber) => {\n      this.props.stopNote(midiNumber);\n    });\n  };\n\n  getMidiNumberForKey = (key) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.key === key);\n    return shortcut && shortcut.midiNumber;\n  };\n\n  getKeyForMidiNumber = (midiNumber) => {\n    if (!this.props.keyboardShortcuts) {\n      return null;\n    }\n    const shortcut = this.props.keyboardShortcuts.find((sh) => sh.midiNumber === midiNumber);\n    return shortcut && shortcut.key;\n  };\n\n  onKeyDown = (event) => {\n    // Don't conflict with existing combinations like ctrl + t\n    if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      return;\n    }\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onPlayNoteInput(midiNumber);\n    }\n  };\n\n  onKeyUp = (event) => {\n    // This *should* also check for event.ctrlKey || event.metaKey || event.ShiftKey like onKeyDown does,\n    // but at least on Mac Chrome, when mashing down many alphanumeric keystrokes at once,\n    // ctrlKey is fired unexpectedly, which would cause onStopNote to NOT be fired, which causes problematic\n    // lingering notes. Since it's fairly safe to call onStopNote even when not necessary,\n    // the ctrl/meta/shift check is removed to fix that issue.\n    const midiNumber = this.getMidiNumberForKey(event.key);\n    if (midiNumber) {\n      this.onStopNoteInput(midiNumber);\n    }\n  };\n\n  onPlayNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onPlayNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onStopNoteInput = (midiNumber) => {\n    if (this.props.disabled) {\n      return;\n    }\n    // Pass in previous activeNotes for recording functionality\n    this.props.onStopNoteInput(midiNumber, this.props.activeNotes);\n  };\n\n  onMouseDown = () => {\n    this.setState({\n      isMouseDown: true,\n    });\n  };\n\n  onMouseUp = () => {\n    this.setState({\n      isMouseDown: false,\n    });\n  };\n\n  onTouchStart = () => {\n    this.setState({\n      useTouchEvents: true,\n    });\n  };\n\n  renderNoteLabel = ({ midiNumber, isActive, isAccidental }) => {\n    const keyboardShortcut = this.getKeyForMidiNumber(midiNumber);\n    return this.props.renderNoteLabel({ keyboardShortcut, midiNumber, isActive, isAccidental });\n  };\n\n  render() {\n    return (\n      <div\n        style={{ width: '100%', height: '100%' }}\n        onMouseDown={this.onMouseDown}\n        onMouseUp={this.onMouseUp}\n        onTouchStart={this.onTouchStart}\n        data-testid=\"container\"\n      >\n        <Keyboard\n          noteRange={this.props.noteRange}\n          onPlayNoteInput={this.onPlayNoteInput}\n          onStopNoteInput={this.onStopNoteInput}\n          activeNotes={this.props.activeNotes}\n          className={this.props.className}\n          disabled={this.props.disabled}\n          width={this.props.width}\n          keyWidthToHeight={this.props.keyWidthToHeight}\n          gliss={this.state.isMouseDown}\n          useTouchEvents={this.state.useTouchEvents}\n          renderNoteLabel={this.renderNoteLabel}\n        />\n      </div>\n    );\n  }\n}\n\nexport default ControlledPiano;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport difference from 'lodash.difference';\nimport ControlledPiano from './ControlledPiano';\nimport Keyboard from './Keyboard';\n\nclass Piano extends React.Component {\n  static propTypes = {\n    noteRange: PropTypes.object.isRequired,\n    activeNotes: PropTypes.arrayOf(PropTypes.number.isRequired),\n    playNote: PropTypes.func.isRequired,\n    stopNote: PropTypes.func.isRequired,\n    onPlayNoteInput: PropTypes.func,\n    onStopNoteInput: PropTypes.func,\n    renderNoteLabel: PropTypes.func,\n    className: PropTypes.string,\n    disabled: PropTypes.bool,\n    width: PropTypes.number,\n    keyWidthToHeight: PropTypes.number,\n    keyboardShortcuts: PropTypes.arrayOf(\n      PropTypes.shape({\n        key: PropTypes.string.isRequired,\n        midiNumber: PropTypes.number.isRequired,\n      }),\n    ),\n  };\n\n  state = {\n    activeNotes: this.props.activeNotes || [],\n  };\n\n  componentDidUpdate(prevProps) {\n    // Make activeNotes \"controllable\" by using internal\n    // state by default, but allowing prop overrides.\n    if (\n      prevProps.activeNotes !== this.props.activeNotes &&\n      this.state.activeNotes !== this.props.activeNotes\n    ) {\n      this.setState({\n        activeNotes: this.props.activeNotes || [],\n      });\n    }\n  }\n\n  handlePlayNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onPlayNoteInput) {\n        this.props.onPlayNoteInput(midiNumber, { prevActiveNotes: prevState.activeNotes });\n      }\n\n      // Don't append note to activeNotes if it's already present\n      if (prevState.activeNotes.includes(midiNumber)) {\n        return null;\n      }\n      return {\n        activeNotes: prevState.activeNotes.concat(midiNumber),\n      };\n    });\n  };\n\n  handleStopNoteInput = (midiNumber) => {\n    this.setState((prevState) => {\n      // Need to be handled inside setState in order to set prevActiveNotes without\n      // race conditions.\n      if (this.props.onStopNoteInput) {\n        this.props.onStopNoteInput(midiNumber, { prevActiveNotes: this.state.activeNotes });\n      }\n      return {\n        activeNotes: prevState.activeNotes.filter((note) => midiNumber !== note),\n      };\n    });\n  };\n\n  render() {\n    const { activeNotes, onPlayNoteInput, onStopNoteInput, ...otherProps } = this.props;\n    return (\n      <ControlledPiano\n        activeNotes={this.state.activeNotes}\n        onPlayNoteInput={this.handlePlayNoteInput}\n        onStopNoteInput={this.handleStopNoteInput}\n        {...otherProps}\n      />\n    );\n  }\n}\n\nexport default Piano;\n","import MidiNumbers from './MidiNumbers';\n\nfunction createKeyboardShortcuts({ firstNote, lastNote, keyboardConfig }) {\n  let currentMidiNumber = firstNote;\n  let naturalKeyIndex = 0;\n  let keyboardShortcuts = [];\n\n  while (\n    // There are still keys to be assigned\n    naturalKeyIndex < keyboardConfig.length &&\n    // Note to be assigned does not surpass range\n    currentMidiNumber <= lastNote\n  ) {\n    const key = keyboardConfig[naturalKeyIndex];\n    const { isAccidental } = MidiNumbers.getAttributes(currentMidiNumber);\n    if (isAccidental) {\n      keyboardShortcuts.push({\n        key: key.flat,\n        midiNumber: currentMidiNumber,\n      });\n    } else {\n      keyboardShortcuts.push({\n        key: key.natural,\n        midiNumber: currentMidiNumber,\n      });\n      naturalKeyIndex += 1;\n    }\n    currentMidiNumber += 1;\n  }\n  return keyboardShortcuts;\n}\n\nexport default {\n  create: createKeyboardShortcuts,\n  // Preset configurations\n  BOTTOM_ROW: [\n    { natural: 'z', flat: 'a', sharp: 's' },\n    { natural: 'x', flat: 's', sharp: 'd' },\n    { natural: 'c', flat: 'd', sharp: 'f' },\n    { natural: 'v', flat: 'f', sharp: 'g' },\n    { natural: 'b', flat: 'g', sharp: 'h' },\n    { natural: 'n', flat: 'h', sharp: 'j' },\n    { natural: 'm', flat: 'j', sharp: 'k' },\n    { natural: ',', flat: 'k', sharp: 'l' },\n    { natural: '.', flat: 'l', sharp: ';' },\n    { natural: '/', flat: ';', sharp: \"'\" },\n  ],\n  HOME_ROW: [\n    { natural: 'a', flat: 'q', sharp: 'w' },\n    { natural: 's', flat: 'w', sharp: 'e' },\n    { natural: 'd', flat: 'e', sharp: 'r' },\n    { natural: 'f', flat: 'r', sharp: 't' },\n    { natural: 'g', flat: 't', sharp: 'y' },\n    { natural: 'h', flat: 'y', sharp: 'u' },\n    { natural: 'j', flat: 'u', sharp: 'i' },\n    { natural: 'k', flat: 'i', sharp: 'o' },\n    { natural: 'l', flat: 'o', sharp: 'p' },\n    { natural: ';', flat: 'p', sharp: '[' },\n    { natural: \"'\", flat: '[', sharp: ']' },\n  ],\n  QWERTY_ROW: [\n    { natural: 'q', flat: '1', sharp: '2' },\n    { natural: 'w', flat: '2', sharp: '3' },\n    { natural: 'e', flat: '3', sharp: '4' },\n    { natural: 'r', flat: '4', sharp: '5' },\n    { natural: 't', flat: '5', sharp: '6' },\n    { natural: 'y', flat: '6', sharp: '7' },\n    { natural: 'u', flat: '7', sharp: '8' },\n    { natural: 'i', flat: '8', sharp: '9' },\n    { natural: 'o', flat: '9', sharp: '0' },\n    { natural: 'p', flat: '0', sharp: '-' },\n    { natural: '[', flat: '-', sharp: '=' },\n  ],\n};\n","module.exports = range;\n\n/*\n  range(0, 5); // [0, 1, 2, 3, 4]\n  range(5); // [0, 1, 2, 3, 4]\n  range(-5); // [0, -1, -2, -3, -4]\n  range(0, 20, 5) // [0, 5, 10, 15]\n  range(0, -20, -5) // [0, -5, -10, -15]\n*/\n\nfunction range(start, stop, step) {\n  if (start != null && typeof start != 'number') {\n    throw new Error('start must be a number or null');\n  }\n  if (stop != null && typeof stop != 'number') {\n    throw new Error('stop must be a number or null');\n  }\n  if (step != null && typeof step != 'number') {\n    throw new Error('step must be a number or null');\n  }\n  if (stop == null) {\n    stop = start || 0;\n    start = 0;\n  }\n  if (step == null) {\n    step = stop > start ? 1 : -1;\n  }\n  var toReturn = [];\n  var increasing = start < stop; // heres the change\n  for (; increasing ? start < stop : start > stop; start += step) {\n    toReturn.push(start);\n  }\n  return toReturn;\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = difference;\n","import Fretboard from \"components/Fretboard\";\nimport GameControls from \"components/GameControls\";\nimport Keyboard from \"components/Keyboard\";\nimport RotateDevice from \"components/RotateDevice\";\nimport React, { FC } from \"react\";\nimport { useRecoilState, useRecoilValue, useResetRecoilState } from \"recoil\";\nimport { gameProxySelector, gameStatsState } from \"state/name-the-note\";\nimport { INote } from \"types\";\n\nconst NameTheNotePage: FC = () => {\n  const stats = useRecoilValue(gameStatsState);\n  const [note, updateGame] = useRecoilState(gameProxySelector);\n  const resetGame = useResetRecoilState(gameProxySelector);\n\n  const handleAnswer = (name: string) => updateGame({ name } as INote);\n\n  return (\n    <>\n      <RotateDevice />\n      <GameControls\n        onResetGame={resetGame}\n        correct={stats.game.correct}\n        attempts={stats.game.attempts}\n      />\n      <Fretboard activeNotes={note ? [note] : []} />\n      <Keyboard alignSelf=\"center\" onClick={handleAnswer} />\n    </>\n  );\n};\n\nexport default NameTheNotePage;\n"],"sourceRoot":""}